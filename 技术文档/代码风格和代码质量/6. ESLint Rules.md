# 6. ESLint Rules

æ‰€æœ‰çš„è§„åˆ™é»˜è®¤éƒ½æ˜¯ç¦ç”¨çš„ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ "extends": "eslint:recommended" æ¥å¯ç”¨æ¨èçš„è§„åˆ™ï¼ŒæŠ¥å‘Šä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Œåœ¨ä¸‹æ–‡ä¸­è¿™äº›æ¨èçš„è§„åˆ™éƒ½å¸¦æœ‰ä¸€ä¸ª <span style="color:green;">**&radic;**</span> ï¼ˆç»¿è‰²åŠ ç²—å¯¹å·ï¼‰ æ ‡è®°ã€‚

å‘½ä»¤è¡Œçš„ --fix é€‰é¡¹ç”¨æ¥è‡ªåŠ¨ä¿®å¤è§„åˆ™æ‰€æŠ¥å‘Šçš„é—®é¢˜ï¼ˆç›®å‰ï¼Œå¤§éƒ¨åˆ†æ˜¯å¯¹ç©ºç™½çš„ä¿®å¤ï¼‰ï¼Œåœ¨[è§„åˆ™é¡µé¢](https://eslint.bootcss.com/docs/rules/)ä¸­ä¼šæœ‰ä¸€ä¸ªæ‰³æ‰‹çš„å›¾æ ‡ã€‚

# Rules ï¼šä»£ç ä¸­å¯èƒ½çš„é”™è¯¯ç›¸å…³çš„è§„åˆ™

**_ä»¥ä¸‹ä»…è§£é‡Š eslint: recommended ä»£è¡¨çš„ç›¸å…³è§„åˆ™é›†åˆï¼›_**

### 1. for-direction ï¼ˆå¼ºåˆ¶ â€œforâ€ å¾ªç¯ä¸­æ›´æ–°å­å¥çš„è®¡æ•°å™¨æœç€æ­£ç¡®çš„æ–¹å‘ç§»åŠ¨ï¼‰

#### Rule Details ï¼ˆè§„åˆ™çš„è¯¦æƒ…ï¼‰

å¦‚æœä¸€ä¸ª for å¾ªç¯çš„åœæ­¢æ¡ä»¶æ°¸è¿œæ— æ³•åˆ°è¾¾ï¼Œæ¯”å¦‚ï¼Œè®¡æ•°å™¨åœ¨é”™è¯¯çš„æ–¹å‘ä¸Šç§»åŠ¨ï¼Œå°†é™·å…¥æ— é™å¾ªç¯ã€‚å½“å­˜åœ¨è¿™æ ·çš„æ— é™å¾ªç¯æ—¶ï¼Œæƒ¯ä¾‹æ˜¯æ”¹ç”¨ while å¾ªç¯ã€‚æ›´å…¸å‹çš„æ˜¯ï¼Œæ— é™å¾ªç¯æ˜¯ä¸ª bugã€‚

> é”™è¯¯ ä»£ç ç¤ºä¾‹ï¼š

```
/*eslint for-direction: "error"*/
for (var i = 0; i < 10; i--) {
}

for (var i = 10; i >= 0; i++) {
}
```

> æ­£ç¡® ä»£ç ç¤ºä¾‹ï¼š

```
/*eslint for-direction: "error"*/
for (var i = 0; i < 10; i++) {
}
```

### 2. getter-return ï¼ˆå¼ºåˆ¶ getter å‡½æ•°ä¸­å‡ºç° return è¯­å¥ï¼‰

#### Rule Details ï¼ˆè§„åˆ™çš„è¯¦æƒ…ï¼‰ï¼šè¯¥è§„åˆ™æ—¨åœ¨å±æ€§ getter ä¸­å‡ºç° return è¯­å¥ã€‚

è¯¥è§„åˆ™æœŸæœ›æ¯ä¸ª getter å‡½æ•°éƒ½æœ‰è¿”å›å€¼ã€‚
get è¯­æ³•å°†å¯¹è±¡å±æ€§ç»‘å®šåˆ°ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨æŸ¥æ‰¾è¯¥å±æ€§æ—¶å°†è¢«è°ƒç”¨ã€‚è¿™æ˜¯é¦–æ¬¡åœ¨ ECMAScript 5 ä¸­å¼•å…¥ï¼š

```
// ç”¨æ³•ä¸€ï¼š
 let p = {
    get name(){
        return "nicholas";
    }
};
// ç”¨æ³•äºŒï¼š
Object.defineProperty(p, "age", {
    get: function (){
        return 17;
    }
});
```

**å¦‚æœä½ çš„é¡¹ç›®ä¸ä½¿ç”¨ ES5 å±æ€§ getterï¼Œä½ ä¸éœ€è¦ä½¿ç”¨æ­¤è§„åˆ™ã€‚**

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint getter-return: "error"*/

let p = {
    get name(){
        // no returns.
    }
};

Object.defineProperty(p, "age", {
    get: function (){
        // no returns.
    }
});

class P{
    get name(){
        // no returns.
    }
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint getter-return: "error"*/

let p = {
    get name(){
        return "nicholas";
    }
};

Object.defineProperty(p, "age", {
    get: function (){
        return 18;
    }
});

class P{
    get name(){
        return "nicholas";
    }
}
```

#### Options

è¯¥è§„åˆ™æœ‰ä¸€ä¸ªå¯¹è±¡é€‰é¡¹ï¼š
"allowImplicit": false (é»˜è®¤) ã€‚æ­¤æ—¶ï¼Œç¦æ­¢åœ¨ return è¯­å¥ä¸­éšå¼åœ°è¿”å› undefinedã€‚
å½“ä½ æŠŠé€‰é¡¹è®¾ç½®æ”¹ä¸º { "allowImplicit": true } æ—¶ æ­£ç¡® ä»£ç ç¤ºä¾‹ï¼š

```
/*eslint getter-return: ["error", { allowImplicit: true }]*/
let p = {
    get name(){
        return; // return undefined implicitly.
    }
};
```

### 3. no-async-promise-executor ï¼ˆç¦æ­¢ä½¿ç”¨å¼‚æ­¥å‡½æ•°ä½œä¸º Promise executorï¼‰

#### Rule Details ï¼ˆè§„åˆ™çš„è¯¦æƒ…ï¼‰ï¼šæ­¤è§„åˆ™æ—¨åœ¨ç¦æ­¢ä½¿ç”¨å¼‚æ­¥çš„ Promise executor å‡½æ•°ã€‚

è§£é‡Šï¼š new Promise æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ª executor å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°å…·æœ‰ resolve å’Œ reject ä¸¤ä¸ªå‚æ•°ï¼Œå¯ç”¨äºæ§åˆ¶åˆ›å»ºçš„ Promise çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼š

```
const result = new Promise(function executor(resolve, reject) {
  readFile('foo.txt', function(err, result) {
    if (err) {
      reject(err);
    } else {
      resolve(result);
    }
  });
});
```

executor å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯ async functionã€‚ç„¶è€Œï¼Œè¿™é€šå¸¸æ˜¯ä¸€ä¸ªé”™è¯¯ï¼ŒåŸå› å¦‚ä¸‹:

1. å¦‚æœå¼‚æ­¥ executor å‡½æ•°æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯å°†ä¼šä¸¢å¤±ï¼Œå¹¶ä¸”ä¸ä¼šå¯¼è‡´æ–°æ„é€ çš„ Promise è¢«æ‹’ç»ã€‚è¿™å¯èƒ½ä½¿ä¼šè°ƒè¯•å’Œå¤„ç†ä¸€äº›é”™è¯¯å˜å¾—å›°éš¾ã€‚
2. å¦‚æœä¸€ä¸ª Promise executor å‡½æ•°ä½¿ç”¨äº† awaitï¼Œè¿™é€šå¸¸è¡¨ç¤ºå®é™…ä¸Šæ²¡æœ‰å¿…è¦ä½¿ç”¨ new Promise æ„é€ å‡½æ•°ï¼Œæˆ–è€…å¯ä»¥å‡å° new Promise æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸã€‚
    > **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
const foo = new Promise(async (resolve, reject) => {
  readFile('foo.txt', function(err, result) {
    if (err) {
      reject(err);
    } else {
      resolve(result);
    }
  });
});

const result = new Promise(async (resolve, reject) => {
  resolve(await foo);
});
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
const foo = new Promise((resolve, reject) => {
  readFile('foo.txt', function(err, result) {
    if (err) {
      reject(err);
    } else {
      resolve(result);
    }
  });
});

const result = Promise.resolve(foo);
```

### 4. no-compare-neg-zero ï¼ˆç¦æ­¢ä¸ -0 è¿›è¡Œæ¯”è¾ƒï¼‰

è¯¥è§„åˆ™å¯¹è¯•å›¾ä¸ -0 è¿›è¡Œæ¯”è¾ƒçš„ä»£ç å‘å‡ºè­¦å‘Šï¼Œå› ä¸ºå¹¶ä¸ä¼šè¾¾åˆ°é¢„æœŸã€‚ä¹Ÿå°±æ˜¯è¯´åƒ x === -0 çš„ä»£ç å¯¹äº +0 å’Œ -0 éƒ½æœ‰æ•ˆã€‚æ¨èä½œè€…ä½¿ç”¨ Object.is(x, -0)ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
if (x === -0) {
    // doSomething()...
}
Examples of correct code for this rule:
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
if (x === 0) {
    // doSomething()...
}

if (Object.is(x, -0)) {
    // doSomething()...
}
```

### 5. no-cond-assign ï¼ˆç¦æ­¢æ¡ä»¶è¡¨è¾¾å¼ä¸­å‡ºç°èµ‹å€¼æ“ä½œç¬¦ï¼‰

åœ¨æ¡ä»¶è¯­å¥ä¸­ï¼Œå¾ˆå®¹æ˜“å°†ä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆåƒ ==ï¼‰é”™å†™æˆèµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¦‚ =ï¼‰ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ ifã€forã€while å’Œ do...while è¯­å¥ä¸­å‡ºç°æ¨¡æ£±ä¸¤å¯çš„èµ‹å€¼æ“ä½œç¬¦ã€‚

#### Options

è¯¥è§„åˆ™æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²é€‰é¡¹ï¼š

-   "except-parens" (é»˜è®¤) å…è®¸æ¡ä»¶è¯­å¥ä¸­å‡ºç°èµ‹å€¼æ“ä½œç¬¦ï¼Œå‰ææ˜¯å®ƒä»¬è¢«åœ†æ‹¬å·æ‹¬èµ·æ¥ (ä¾‹å¦‚ï¼Œåœ¨ while æˆ– do...while å¾ªç¯æ¡ä»¶ä¸­ï¼Œå…è®¸èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡)
-   "always" ç¦æ­¢æ¡ä»¶è¯­å¥ä¸­å‡ºç°èµ‹å€¼è¯­å¥;

ä¸¾ä¾‹ï¼š

```
1.  /*eslint no-cond-assign: "error"*/
2.  /*eslint no-cond-assign: ["error", "always"]*/
```

### 6. no-constant-condition (ç¦æ­¢åœ¨æ¡ä»¶ä¸­ä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼)

å°†ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼ˆæ¯”å¦‚ï¼Œä¸€ä¸ªå­—é¢å€¼ï¼‰ä½œä¸ºä¸€ä¸ªæµ‹è¯•çš„åˆ¤æ–­æ¡ä»¶å¯èƒ½æ˜¯ä¸ªä¹¦å†™é”™è¯¯æˆ–è€…ä¸ºäº†è§¦å‘æŸä¸ªç‰¹å®šçš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç çœ‹èµ·æ¥åƒæ˜¯æ²¡æœ‰å‡†å¤‡å¥½å‘å¸ƒçš„ã€‚

```
if (false) {
    doSomethingUnfinished();
}
```

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ä»¥ä¸‹è¯­å¥çš„æ¡ä»¶ä¸­å‡ºç°å¸¸é‡è¡¨è¾¾å¼ï¼š

-   ifã€forã€while æˆ– do...while è¯­å¥
-   ?: ä¸‰å…ƒè¡¨è¾¾å¼

#### Options

é€‰é¡¹ï¼šcheckLoops, **é»˜è®¤ä¸º true**ã€‚è®¾ç½®è¯¥é€‰é¡¹ä¸º false å…è®¸åœ¨å¾ªç¯ä¸­ä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-constant-condition: "error"*/

if (false) {
    doSomethingUnfinished();
}

if (void x) {
    doSomethingUnfinished();
}

for (;-2;) {
    doSomethingForever();
}

while (typeof x) {
    doSomethingForever();
}

do {
    doSomethingForever();
} while (x = -1);

var result = 0 ? a : b;
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-constant-condition: "error"*/

if (x === 0) {
    doSomething();
}

for (;;) {
    doSomethingForever();
}

while (typeof x === "undefined") {
    doSomething();
}

do {
    doSomething();
} while (x);

var result = x !== 0 ? a : b;
```

### 7. no-control-regex (ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ§åˆ¶å­—ç¬¦)

åœ¨ ASCII ä¸­ï¼Œ0-31 èŒƒå›´å†…çš„æ§åˆ¶å­—ç¬¦æ˜¯ç‰¹æ®Šçš„ã€ä¸å¯è§çš„å­—ç¬¦ã€‚è¿™äº›å­—ç¬¦å¾ˆå°‘è¢«ç”¨åœ¨ JavaScript å­—ç¬¦ä¸²ä¸­ï¼Œæ‰€ä»¥ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¦‚æœåŒ…å«è¿™äº›å­—ç¬¦çš„ï¼Œå¾ˆæœ‰å¯èƒ½ä¸€ä¸ªé”™è¯¯ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å‡ºç°æ§åˆ¶å­—ç¬¦ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-control-regex: "error"*/

var pattern1 = /\x1f/;
var pattern2 = new RegExp("\x1f");
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-control-regex: "error"*/

var pattern1 = /\x20/;
var pattern2 = new RegExp("\x20");
```

#### When Not To Use It

å¦‚æœä½ éœ€è¦ä½¿ç”¨æ§åˆ¶å­—ç¬¦è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œä½ åº”è¯¥å…³é—­è¯¥è§„åˆ™ã€‚

### 8. no-debugger (ç¦ç”¨ debugger)

debugger è¯­å¥ç”¨äºå‘Šè¯‰ JavaScript æ‰§è¡Œç¯å¢ƒåœæ­¢æ‰§è¡Œå¹¶åœ¨ä»£ç çš„å½“å‰ä½ç½®å¯åŠ¨è°ƒè¯•å™¨ã€‚éšç€ç°ä»£è°ƒè¯•å’Œå¼€å‘å·¥å…·çš„å‡ºç°ï¼Œä½¿ç”¨è°ƒè¯•å™¨å·²ä¸æ˜¯æœ€ä½³å®è·µã€‚äº§å“ä»£ç ä¸åº”è¯¥åŒ…å« debuggerï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´æµè§ˆå™¨åœæ­¢æ‰§è¡Œä»£ç å¹¶æ‰“å¼€ä¸€ä¸ªé€‚å½“çš„è°ƒè¯•å™¨ã€‚å°¤å…¶æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæ›´ä¸åº”è¯¥å‡ºç° debuggerã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ debugger è¯­å¥ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-debugger: "error"*/

function isTruthy(x) {
    debugger;
    return Boolean(x);
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-debugger: "error"*/

function isTruthy(x) {
    return Boolean(x); // set a breakpoint at this line
}
```

#### When Not To Use It

å¦‚æœä½ çš„ä»£ç åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä»å¤„äºå¼€å‘é˜¶æ®µï¼Œä¸æƒ³å‰¥ç¦» debugger è¯­å¥ï¼Œé‚£ä¹ˆå°±å…³é—­æ­¤è§„åˆ™ã€‚é€šå¸¸åœ¨éƒ¨ç½²ä»£ç ä¹‹å‰ï¼Œä½ ä¼šç¦ç”¨ debuggerã€‚

### 9. no-dupe-args (ç¦æ­¢åœ¨ function å®šä¹‰ä¸­å‡ºç°é‡å¤çš„å‚æ•°)

#### Rule Details

å¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­å‡ºç°å¤šä¸ªåŒåçš„å‚æ•°ï¼Œåé¢å‡ºç°çš„ä¼šè¦†ç›–å‰é¢å‡ºç°çš„å‚æ•°ã€‚é‡å¤çš„åç§°å¯èƒ½æ˜¯ä¸€ä¸ªæ‰“å­—é”™è¯¯ã€‚
è¯¥è§„åˆ™ç¦æ­¢åœ¨å‡½æ•°å®šä¹‰æˆ–è¡¨è¾¾ä¸­å‡ºç°é‡åå‚æ•°ã€‚è¯¥è§„åˆ™å¹¶ä¸é€‚ç”¨äºç®­å¤´å‡½æ•°æˆ–ç±»æ–¹æ³•ï¼Œå› ä¸ºè§£æå™¨ä¼šæŠ¥å‘Šè¿™æ ·çš„é”™è¯¯ã€‚

å¦‚æœ ESLint åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è§£æä»£ç ï¼Œè§£æå™¨ï¼ˆä¸æ˜¯è¯¥è§„åˆ™ï¼‰å°†æŠ¥å‘Šè¿™æ ·çš„é”™è¯¯ã€‚

### 10. no-dupe-keys (ç¦æ­¢åœ¨å¯¹è±¡å­—é¢é‡ä¸­å‡ºç°é‡å¤çš„é”®)

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨å¯¹è±¡å­—é¢é‡ä¸­å‡ºç°é‡å¤çš„é”®ã€‚
åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœå¯¹è±¡å­—é¢é‡ä¸­å‡ºç°å¤šä¸ªå±æ€§æœ‰åŒæ ·çš„é”®å¯èƒ½ä¼šåˆ°å¯¼è‡´æ„æƒ³ä¸åˆ°çš„æƒ…å†µå‡ºç°ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-dupe-keys: "error"*/

var foo = {
    bar: "baz",
    bar: "qux"
};

var foo = {
    "bar": "baz",
    bar: "qux"
};

var foo = {
    0x1: "baz",
    1: "qux"
};
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-dupe-keys: "error"*/

var foo = {
    bar: "baz",
    quxx: "qux"
};
```

### 11. no-duplicate-case (ç¦æ­¢åœ¨ switch è¯­å¥ä¸­é‡å¤ case æ ‡ç­¾)

å¦‚æœä¸€ä¸ª switch è¯­å¥ä¸­çš„ case å­å¥ä¸­å‡ºç°é‡å¤çš„æµ‹è¯•è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æ˜¯æŸä¸ªç¨‹åºå‘˜æ‹·è´äº†ä¸€ä¸ª case å­å¥ä½†å¿˜è®°äº†ä¿®æ”¹æµ‹è¯•è¡¨è¾¾å¼ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ switch è¯­å¥ä¸­çš„ case å­å¥ä¸­å‡ºç°é‡å¤çš„æµ‹è¯•è¡¨è¾¾å¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-duplicate-case: "error"*/

var a = 1,
    one = 1;

switch (a) {
    case 1:
        break;
    case 2:
        break;
    case 1:         // duplicate test expression
        break;
    default:
        break;
}

switch (a) {
    case one:
        break;
    case 2:
        break;
    case one:         // duplicate test expression
        break;
    default:
        break;
}

switch (a) {
    case "1":
        break;
    case "2":
        break;
    case "1":         // duplicate test expression
        break;
    default:
        break;
}
```

### 12. no-empty (ç¦æ­¢ç©ºå—è¯­å¥)

ç©ºè¯­å¥å—ï¼Œå¦‚æœä¸æ˜¯æŠ€æœ¯ä¸Šçš„é”™è¯¯ï¼Œé€šå¸¸æ˜¯ç”±äºä¸å®Œæ•´çš„é‡æ„é€ æˆçš„ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ switch è¯­å¥ä¸­çš„ case å­å¥ä¸­å‡ºç°é‡å¤çš„æµ‹è¯•è¡¨è¾¾å¼ã€‚
è¯¥è§„åˆ™ç¦æ­¢ç©ºè¯­å¥å—å‡ºç°ã€‚è¯¥è§„åˆ™å¿½ç•¥åŒ…å«ä¸€ä¸ªæ³¨é‡Šçš„è¯­å¥å—ï¼ˆä¾‹å¦‚ï¼Œåœ¨ try è¯­å¥ä¸­ï¼Œä¸€ä¸ªç©ºçš„ catch æˆ– finally è¯­å¥å—æ„å‘³ç€ç¨‹åºåº”è¯¥ç»§ç»­æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦å‡ºç°é”™è¯¯ï¼‰ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-empty: "error"*/

if (foo) {
}

while (foo) {
}

switch(foo) {
}

try {
    doSomething();
} catch(ex) {

} finally {

}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-empty: "error"*/

if (foo) {
    // empty
}

while (foo) {
    /* empty */
}

try {
    doSomething();
} catch (ex) {
    // continue regardless of error
}

try {
    doSomething();
} finally {
    /* continue regardless of error */
}
```

#### Options

è¯¥è§„åˆ™æœ‰ä¾‹å¤–æƒ…å†µï¼Œæ˜¯ä¸ªå¯¹è±¡ï¼š

"allowEmptyCatch": true å…è®¸å‡ºç°ç©ºçš„ catch å­å¥ (ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒ…å«æ³¨é‡Š)
å½“ä½ æŠŠé€‰é¡¹è®¾ç½®æ”¹ä¸º { "allowEmptyCatch": true } æ—¶ æ­£ç¡® ä»£ç ç¤ºä¾‹ï¼š

```
/* eslint no-empty: ["error", { "allowEmptyCatch": true }] */
try {
    doSomething();
} catch (ex) {}

try {
    doSomething();
}
catch (ex) {}
finally {
    /* continue regardless of error */
}
```

#### When Not To Use It

å¦‚æœä½ æ‰“ç®—ä½¿ç”¨ç©ºè¯­å¥å—ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç¦ç”¨æ­¤è§„åˆ™ã€‚

### 13. no-empty-character-class (ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å‡ºç°ç©ºå­—ç¬¦é›†)

åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ç©ºå­—ç¬¦é›†ä¸èƒ½åŒ¹é…ä»»ä½•å­—ç¬¦ï¼Œå®ƒä»¬å¯èƒ½æ˜¯æ‰“å­—é”™è¯¯ã€‚ä¾‹å¦‚ï¼š

```
var foo = /^abc[]/;
```

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å‡ºç°ç©ºå­—ç¬¦é›†ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-empty-character-class: "error"*/

/^abc[]/.test("abcdefg"); // false
"abcdefg".match(/^abc[]/); // null
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-empty-character-class: "error"*/

/^abc/.test("abcdefg"); // true
"abcdefg".match(/^abc/); // ["abc"]

/^abc[a-z]/.test("abcdefg"); // true
"abcdefg".match(/^abc[a-z]/); // ["abcd"]
```

#### è¯¥è§„åˆ™çš„å±€é™ï¼š

è¯¥è§„åˆ™ä¸ä¼šæŠ¥å‘Š**RegExp æ„é€ å‡½æ•°**çš„å­—ç¬¦ä¸²å‚æ•°ä¸­ç©ºå­—ç¬¦é›†çš„ä½¿ç”¨æƒ…å†µã€‚
ä¾‹å¦‚ï¼šè¯¥è§„åˆ™ä¼šæŠ¥å‘Šæ­£ç¡®çš„ä»£ç ï¼š

```
/*eslint no-empty-character-class: "error"*/

var abcNeverMatches = new RegExp("^abc[]");
```

### 14. no-ex-assign (ç¦æ­¢å¯¹ catch å­å¥ä¸­çš„å¼‚å¸¸é‡æ–°èµ‹å€¼)

åœ¨ try è¯­å¥ä¸­çš„ catch å­å¥ä¸­ï¼Œå¦‚æœæ„å¤–åœ°ï¼ˆæˆ–æ•…æ„åœ°ï¼‰ç»™å¼‚å¸¸å‚æ•°èµ‹å€¼ï¼Œæ˜¯ä¸å¯èƒ½å¼•ç”¨é‚£ä¸ªä½ç½®çš„é”™è¯¯çš„ã€‚ç”±äºæ²¡æœ‰ arguments å¯¹è±¡æä¾›é¢å¤–çš„æ–¹å¼è®¿é—®è¿™ä¸ªå¼‚å¸¸ï¼Œå¯¹å®ƒè¿›è¡Œèµ‹å€¼ç»å¯¹æ˜¯æ¯ç­æ€§çš„ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢å¯¹ catch å­å¥ä¸­çš„å¼‚å¸¸é‡æ–°èµ‹å€¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-ex-assign: "error"*/

try {
    // code
} catch (e) {
    e = 10;
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-ex-assign: "error"*/

try {
    // code
} catch (e) {
    var foo = 10;
}
```

### 15. no-extra-boolean-cast (ç¦æ­¢ä¸å¿…è¦çš„å¸ƒå°”ç±»å‹è½¬æ¢)

åœ¨ä¸Šä¸‹æ–‡ä¸­æ¯”å¦‚ if è¯­å¥çš„æµ‹è¯•è¡¨è¾¾å¼çš„ç»“æœå·²ç»è¢«å¼ºåˆ¶è½¬åŒ–æˆäº†ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå†é€šè¿‡åŒé‡å¦å®šï¼ˆ!!ï¼‰æˆ– Boolean è½¬åŒ–æ˜¯ä¸å¿…è¦çš„ã€‚ä¾‹å¦‚ï¼Œè¿™äº› if è¯­å¥æ˜¯ç­‰ä»·çš„ï¼š

```
if (!!foo) {
    // ...
}

if (Boolean(foo)) {
    // ...
}

if (foo) {
    // ...
}
```

**å‘½ä»¤è¡Œä¸­çš„ --fix é€‰é¡¹å¯ä»¥è‡ªåŠ¨ä¿®å¤ä¸€äº›è¯¥è§„åˆ™æŠ¥å‘Šçš„é—®é¢˜ã€‚**

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ä¸å¿…è¦çš„å¸ƒå°”ç±»å‹è½¬æ¢ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-extra-boolean-cast: "error"*/

var foo = !!!bar;

var foo = !!bar ? baz : bat;

var foo = Boolean(!!bar);

var foo = new Boolean(!!bar);

if (!!foo) {
    // ...
}

if (Boolean(foo)) {
    // ...
}

while (!!foo) {
    // ...
}

do {
    // ...
} while (Boolean(foo));

for (; !!foo; ) {
    // ...
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-extra-boolean-cast: "error"*/

var foo = !!bar;
var foo = Boolean(bar);

function foo() {
    return !!bar;
}

var foo = bar ? !!baz : !!bat;
```

### 16. no-extra-semi (ç¦ç”¨ä¸å¿…è¦çš„åˆ†å·)

å‘½ä»¤è¡Œä¸­çš„ --fix é€‰é¡¹å¯ä»¥è‡ªåŠ¨ä¿®å¤ä¸€äº›è¯¥è§„åˆ™æŠ¥å‘Šçš„é—®é¢˜ã€‚

ä¹¦å†™é”™è¯¯å’Œå¯¹å“ªé‡Œéœ€è¦ä½¿ç”¨åˆ†å·çš„è¯¯è§£ï¼Œä¼šå¯¼è‡´å‡ºç°ä¸å¿…è¦çš„åˆ†å·ã€‚è™½ç„¶åœ¨æŠ€æœ¯ä¸Šä¸æ˜¯ä¸ªé”™è¯¯ï¼Œä½†é˜…è¯»ä»£ç æ—¶ä¼šå¼•èµ·å›°æƒ‘ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦ç”¨ä¸å¿…è¦çš„åˆ†å·ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-extra-semi: "error"*/

var x = 5;;

function foo() {
    // code
};
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-extra-semi: "error"*/

var x = 5;

var foo = function() {
    // code
};
```

#### When Not To Use It

å¦‚æœä½ æœ‰æ„ä½¿ç”¨é¢å¤–çš„åˆ†å·ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç¦ç”¨æ­¤è§„åˆ™ã€‚

### 17. no-func-assign (ç¦æ­¢å¯¹ function å£°æ˜é‡æ–°èµ‹å€¼)

JavaScript å‡½æ•°æœ‰ä¸¤ç§å½¢å¼ï¼šå‡½æ•°å£°æ˜ function foo() { ... } æˆ–è€…å‡½æ•°è¡¨è¾¾å¼ var foo = function() { ... } ã€‚è™½ç„¶ JavaScript è§£é‡Šå™¨å¯ä»¥å®¹å¿å¯¹å‡½æ•°å£°æ˜è¿›è¡Œè¦†ç›–æˆ–é‡æ–°èµ‹å€¼ï¼Œä½†é€šå¸¸è¿™æ˜¯ä¸ªé”™è¯¯æˆ–ä¼šå¯¼è‡´é—®é¢˜å‡ºç°ã€‚
ä¸¾ä¾‹å¦‚ä¸‹ï¼š

```
function foo() {}
foo = bar;
```

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢å¯¹ function å£°æ˜é‡æ–°èµ‹å€¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-func-assign: "error"*/

function foo() {}
foo = bar;

function foo() {
    foo = bar;
}

foo = bar;
function foo() {}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-func-assign: "error"*/

var foo = function () {}
foo = bar;

function foo(foo) { // `foo` is shadowed.
    foo = bar;
}

function foo() {
    var foo = bar;  // `foo` is shadowed.
}
```

#### When Not To Use It

å¦‚æœä½ æœ‰æ„ä½¿ç”¨é¢å¤–çš„åˆ†å·ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç¦ç”¨æ­¤è§„åˆ™ã€‚

### 18. no-inner-declarations (ç¦æ­¢åœ¨åµŒå¥—çš„è¯­å¥å—ä¸­å‡ºç°å˜é‡æˆ– function å£°æ˜)

åœ¨ ES6 ä¹‹å‰çš„ JavaScript ä¸­ï¼Œå‡½æ•°å£°æ˜åªèƒ½åœ¨ç¨‹åºæˆ–å¦ä¸€ä¸ªå‡½æ•°ä½“çš„é¡¶å±‚ï¼Œå°½ç®¡è§£æå™¨æœ‰æ—¶ä¼šé”™è¯¯åœ°æ¥å—å®ƒä»¬ã€‚è¿™åªé€‚ç”¨äºå‡½æ•°å£°æ˜ï¼›å‘½åçš„æˆ–åŒ¿åçš„å‡½æ•°è¡¨è¾¾å¼æ˜¯å¯ä»¥å‡ºç°åœ¨ä»»ä½•å…è®¸çš„åœ°æ–¹ã€‚
ä¸¾ä¾‹ï¼š

```
// Good
function doSomething() { }

// Bad
if (test) {
    function doSomethingElse () { }
}

function anotherThing() {
    var fn;

    if (test) {

        // Good
        fn = function expression() { };

        // Bad
        function declaration() { }
    }
}
```

å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å£°æ˜å˜é‡ï¼Œç”šè‡³æ˜¯åœ¨æ·±å±‚åµŒå¥—çš„è¯­å¥å—ä¸­ã€‚ç”±äºå˜é‡å£°æ˜æå‡ï¼ŒæŠŠå£°æ˜æ”¾åœ¨ç¨‹åºæˆ–å‡½æ•°ä½“çš„é¡¶éƒ¨ä¼šä½¿ä»£ç æ›´æ¸…æ™°ï¼Œåœ¨ä»»ä½•åœ°æ–¹éšæ„å£°æ˜å˜é‡çš„åšæ³•é€šå¸¸æ˜¯ä¸å¯å–çš„ã€‚æ³¨æ„ let å’Œ const å£°æ˜çš„å˜é‡ä¸ä¼šè¢«æå‡ï¼Œå› æ­¤å®ƒä»¬ä¸å—æ­¤è§„åˆ™å½±å“ã€‚
ä¸¾ä¾‹ï¼š

```
/*eslint-env es6*/

// Good
var foo = 42;

// Good
if (foo) {
    let bar1;
}

// Bad
while (test) {
    var bar2;
}

function doSomething() {
    // Good
    var baz = true;

    // Bad
    if (baz) {
        var quux;
    }
}
```

#### Rule Details

è¯¥è§„åˆ™è¦æ±‚å‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜ï¼ˆå¯é€‰çš„ï¼‰åœ¨ç¨‹åºæˆ–å‡½æ•°ä½“çš„é¡¶éƒ¨ã€‚

#### Options

è¯¥è§„åˆ™æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²é€‰é¡¹ï¼š

-   "functions" (é»˜è®¤) ç¦æ­¢ function å£°æ˜å‡ºç°åœ¨åµŒå¥—çš„è¯­å¥å—ä¸­

-   "both" ç¦æ­¢ function å’Œ var å£°æ˜å‡ºç°åœ¨åµŒå¥—çš„è¯­å¥å—ä¸­

> **é»˜è®¤é€‰é¡¹ "functions" çš„ é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-inner-declarations: "error"*/

if (test) {
    function doSomething() { }
}

function doSomethingElse() {
    if (test) {
        function doAnotherThing() { }
    }
}
```

> **é»˜è®¤é€‰é¡¹ "functions" çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-inner-declarations: "error"*/

function doSomething() { }

function doSomethingElse() {
    function doAnotherThing() { }
}

if (test) {
    asyncCall(id, function (err, data) { });
}

var fn;
if (test) {
    fn = function fnExpression() { };
}
```

> **é€‰é¡¹ "both" çš„ é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-inner-declarations: ["error", "both"]*/

if (test) {
    var foo = 42;
}

function doAnotherThing() {
    if (test) {
        var bar = 81;
    }
}
```

> **é€‰é¡¹ "both" çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-inner-declarations: "error"*/
/*eslint-env es6*/

var bar = 42;

if (test) {
    let baz = 43;
}

function doAnotherThing() {
    var baz = 81;
}
```

### 19. no-invalid-regexp (ç¦æ­¢åœ¨ RegExp æ„é€ å‡½æ•°ä¸­å‡ºç°æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼)

åœ¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­æ— æ•ˆçš„æ¨¡å¼åœ¨ä»£ç è§£ææ—¶ä¼šå¼•èµ· SyntaxErrorï¼Œä½†æ˜¯ RegExp çš„æ„é€ å‡½æ•°ä¸­æ— æ•ˆçš„å­—ç¬¦ä¸²åªåœ¨ä»£ç æ‰§è¡Œæ—¶æ‰ä¼šæŠ›å‡º SyntaxErrorã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ RegExp æ„é€ å‡½æ•°ä¸­å‡ºç°æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-invalid-regexp: "error"*/

RegExp('[')

RegExp('.', 'z')

new RegExp('\\')
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-invalid-regexp: "error"*/

RegExp('.')

new RegExp

this.RegExp('[')
```

#### environments

ECMAScript 6 ä¸º RegExp æ„é€ å‡½æ•°å¢åŠ äº†ä»¥ä¸‹æ ‡å¿—å‚æ•°ï¼š"u" (unicode) å’Œ "y" (sticky)

ä½ å¯ä»¥åœ¨ä½ çš„ ESLint é…ç½® ä¸­é€šè¿‡è®¾ç½® ECMAScript ä¸º 6 ï¼Œæ¥ä½¿è¿™äº›æ ‡å¿—è¢«æœ‰æ•ˆåœ°è¯†åˆ«ã€‚

```
// in a .eslintrc.js file
{ "env":{ "es6": true } }

```

#### Options

è¯¥è§„åˆ™æœ‰ä¾‹å¤–æƒ…å†µï¼Œæ˜¯ä¸ªå¯¹è±¡ï¼š"allowConstructorFlags", å®ƒæ˜¯ä¸ªæ ‡å¿—çš„æ•°ç»„

é€‰é¡¹ { "allowConstructorFlags": ["u", "y"] } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹ï¼š

```
/*eslint no-invalid-regexp: ["error", { "allowConstructorFlags": ["u", "y"] }]*/

new RegExp('.', 'y')

new RegExp('.', 'yu')
```

### 20. no-irregular-whitespace (ç¦æ­¢ä¸è§„åˆ™çš„ç©ºç™½)

æ— æ•ˆçš„æˆ–ä¸è§„åˆ™çš„ç©ºç™½ä¼šå¯¼è‡´ ECMAScript 5 è§£æé—®é¢˜ï¼Œä¹Ÿä¼šä½¿ä»£ç éš¾ä»¥è°ƒè¯•ï¼ˆç±»ä¼¼äºæ··åˆ tab å’Œç©ºæ ¼çš„æƒ…å†µï¼‰ã€‚
å„ç§ç©ºç™½å­—ç¬¦å¯èƒ½æ˜¯ç”±ç¨‹åºå‘˜è¯¯è¾“å…¥çš„ï¼Œæ¯”å¦‚æ‹·è´æˆ–é”®ç›˜å¿«æ·é”®ã€‚ä¾‹å¦‚ï¼Œåœ¨ macOS æŒ‰ä¸‹ Alt + Spaceï¼Œå¢åŠ äº†ä¸€ä¸ªä¸é—´æ–­ç©ºæ ¼ã€‚
è¿™äº›ç©ºæ ¼å¼•èµ·çš„å·²çŸ¥çš„é—®é¢˜:

-   é›¶å®½ç©ºæ ¼:
    -   ä¸è¢«è®¤ä¸ºæ˜¯åˆ†éš”ç¬¦ï¼Œç»å¸¸è¢«è§£æä¸º Unexpected token ILLEGAL
    -   ä¸åœ¨ç°ä»£æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼ŒæœŸå¾…ä½¿ç”¨ä»£ç å­˜å‚¨è½¯ä»¶è§£å†³å…¶å¯è§†åŒ–é—®é¢˜
-   è¡Œåˆ†éš”ç¬¦
    -   åœ¨ JSON ä¸­ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦ï¼Œä¼šå¼•èµ·è§£æé”™è¯¯

#### Rule Details

æ­¤è§„åˆ™æ—¨åœ¨æ•è·ä¸æ˜¯æ­£å¸¸åˆ¶è¡¨ç¬¦ï¼ˆtabï¼‰ å’Œç©ºæ ¼ï¼ˆwhitespaceï¼‰çš„æ— æ•ˆç©ºæ ¼ã€‚å…¶ä¸­ä¸€äº›å­—ç¬¦å¯èƒ½ä¼šå¯¼è‡´ç°ä»£æµè§ˆå™¨å‡ºç°é—®é¢˜ï¼Œè€Œå…¶ä»–å­—ç¬¦å°†æ˜¯ä¸€ä¸ªè°ƒè¯•ä¸­çš„å¯èƒ½å‘ç°çš„é—®é¢˜ã€‚
æ­¤è§„åˆ™ä¸å…è®¸ä½¿ç”¨ä»¥ä¸‹å­—ç¬¦ï¼Œé™¤éé€‰é¡¹å…è®¸ï¼š

```
\u000B - Line Tabulation (\v) - <VT>
\u000C - Form Feed (\f) - <FF>
\u00A0 - No-Break Space - <NBSP>
\u0085 - Next Line
\u1680 - Ogham Space Mark
\u180E - Mongolian Vowel Separator - <MVS>
\ufeff - Zero Width No-Break Space - <BOM>
\u2000 - En Quad
\u2001 - Em Quad
\u2002 - En Space - <ENSP>
\u2003 - Em Space - <EMSP>
\u2004 - Tree-Per-Em
\u2005 - Four-Per-Em
\u2006 - Six-Per-Em
\u2007 - Figure Space
\u2008 - Punctuation Space - <PUNCSP>
\u2009 - Thin Space
\u200A - Hair Space
\u200B - Zero Width Space - <ZWSP>
\u2028 - Line Separator
\u2029 - Paragraph Separator
\u202F - Narrow No-Break Space
\u205f - Medium Mathematical Space
\u3000 - Ideographic Space
```

//ä¸Šè¿°è¿™äº›å­—ç¬¦çš„åœ¨æ˜¾ç¤ºä¸Šéƒ½æ˜¯ç©ºæ ¼æˆ–ç©ºå­—ç¬¦ä¸²

#### Options

è¯¥è§„åˆ™æœ‰ä¾‹å¤–æƒ…å†µï¼Œæ˜¯ä¸ªå¯¹è±¡

-   "skipStrings": true (é»˜è®¤) å…è®¸åœ¨å­—ç¬¦ä¸²å­—é¢é‡ä¸­å‡ºç°ä»»ä½•ç©ºç™½å­—ç¬¦
-   "skipComments": true å…è®¸åœ¨æ³¨é‡Šä¸­å‡ºç°ä»»ä½•ç©ºç™½å­—ç¬¦
-   "skipRegExps": true å…è®¸åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å‡ºç°ä»»ä½•ç©ºç™½å­—ç¬¦
-   "skipTemplates": true å…è®¸åœ¨æ¨¡æ¿å­—é¢é‡ä¸­å‡ºç°ä»»ä½•ç©ºç™½å­—ç¬¦
-   > **é»˜è®¤ { "skipStrings": true } é€‰é¡¹çš„é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-irregular-whitespace: "error"*/

function thing() /*<NBSP>*/{
    return 'test';
}

function thing( /*<NBSP>*/){
    return 'test';
}

function thing /*<NBSP>*/(){
    return 'test';
}

function thingá /*<MVS>*/(){
    return 'test';
}

function thing() {
    return 'test';â€‚/*<ENSP>*/
}

function thing() {
    return 'test'; /*<NBSP>*/
}

function thing() {
    // Description <NBSP>: some descriptive text
}

/*
Description <NBSP>: some descriptive text
*/

function thing() {
    return / <NBSP>regexp/;
}

/*eslint-env es6*/
function thing() {
    return `templateâ€‚<NBSP>string`;
}
```

> **é»˜è®¤ { "skipStrings": true } é€‰é¡¹çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-irregular-whitespace: "error"*/

function thing() {
    return ' <NBSP>thing';
}

function thing() {
    return 'â€‹<ZWSP>thing';
}

function thing() {
    return 'th <NBSP>ing';
}
```

> **é€‰é¡¹ { "skipComments": true } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-irregular-whitespace: ["error", { "skipComments": true }]*/

function thing() {
    // Description <NBSP>: some descriptive text
}

/*
Description <NBSP>: some descriptive text
*/
```

> **é€‰é¡¹ { "skipRegExps": true } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-irregular-whitespace: ["error", { "skipRegExps": true }]*/

function thing() {
    return / <NBSP>regexp/;
}
```

> **é€‰é¡¹ { "skipTemplates": true } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-irregular-whitespace: ["error", { "skipTemplates": true }]*/
/*eslint-env es6*/

function thing() {
    return `templateâ€‚<NBSP>string`;
}
```

#### When Not To Use It

å¦‚æœä½ æƒ³åœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨ tab å’Œç©ºæ ¼ä¹‹å¤–çš„ç©ºç™½å­—ç¬¦ï¼Œå¯ä»¥å…³é—­æ­¤è§„åˆ™ã€‚

### 21. no-misleading-character-class (ä¸å…è®¸åœ¨å­—ç¬¦ç±»è¯­æ³•ä¸­å‡ºç°ç”±å¤šä¸ªä»£ç ç‚¹ç»„æˆçš„å­—ç¬¦)

[surrogate pair](https://baike.baidu.com/item/surrogate%20pair/16820063?fr=aladdin)
[ä»£ç ç‚¹](https://baike.baidu.com/item/%E7%82%B9%E4%BB%A3%E7%A0%81/22038405?fr=aladdin)
åœ¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­æ— æ•ˆçš„æ¨¡å¼åœ¨ä»£ç è§£ææ—¶ä¼šå¼•èµ· SyntaxErrorï¼Œä½†æ˜¯ RegExp çš„æ„é€ å‡½æ•°ä¸­æ— æ•ˆçš„å­—ç¬¦ä¸²åªåœ¨ä»£ç æ‰§è¡Œæ—¶æ‰ä¼šæŠ›å‡º SyntaxErrorã€‚

Unicode åŒ…æ‹¬ç”±å¤šä¸ªä»£ç ç‚¹ç»„æˆçš„å­—ç¬¦ã€‚RegExp å­—ç¬¦ç±»è¯­æ³• (/[abc]/) ä¸èƒ½å¤„ç†ç”±å¤šä¸ªä»£ç ç‚¹ç»„æˆçš„å­—ç¬¦ï¼›è¿™äº›å­—ç¬¦å°†è¢«åˆ†è§£åˆ°æ¯ä¸ªä»£ç ç‚¹ã€‚ä¾‹å¦‚ï¼Œâ‡ï¸ æ˜¯ç”± â‡ (U+2747) å’Œ VARIATION SELECTOR-16 (U+FE0F)ã€‚å¦‚æœè¿™æ˜¯æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ç±»ï¼Œå®ƒå°†åŒ¹é… â‡ (U+2747) æˆ– VARIATION SELECTOR-16 (U+FE0F)è€Œä¸æ˜¯ â‡ï¸ã€‚

æ­¤è§„åˆ™æŠ¥å‘Šåœ¨å­—ç¬¦ç±»è¯­æ³•ä¸­åŒ…å«å¤šä¸ªä»£ç ç‚¹å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ­¤è§„åˆ™å°†ä»¥ä¸‹å­—ç¬¦è§†ä¸ºå¤šä¸ªä»£ç ç‚¹å­—ç¬¦ï¼š

-   1. å…·æœ‰ç»„åˆå­—ç¬¦çš„å­—ç¬¦ï¼š
       ç»„åˆå­—ç¬¦å±äº Mcã€Me å’Œ Mn [Unicode é€šç”¨ç±»åˆ«](http://www.unicode.org/L2/L1999/UnicodeData.html#General%20Category) ä¹‹ä¸€ã€‚

```
/^[AÌ]$/u.test("AÌ") //â†’ false
/^[â‡ï¸]$/u.test("â‡ï¸") //â†’ false
```

-   2. å¸¦æœ‰è¡¨æƒ…ç¬¦å·ä¿®é¥°ç¬¦çš„å­—ç¬¦ï¼š

```
/^[ğŸ‘¶ğŸ»]$/u.test("ğŸ‘¶ğŸ»") //â†’ false
/^[ğŸ‘¶ğŸ½]$/u.test("ğŸ‘¶ğŸ½") //â†’ false
```

-   3. ä¸€ç»„åŒºåŸŸæŒ‡æ ‡ç¬¦å·ï¼š

```
// è¿™ä¸ªä¸æ˜¯å¤§å†™å­—æ¯è€Œæ˜¯Emoji(s)ç¬¦å·, å‚è€ƒï¼š https://www.emojiall.com/zh-hans/emoji/%F0%9F%87%AF%F0%9F%87%B5

/^[ğŸ‡¯ğŸ‡µ]$/u.test("ğŸ‡¯ğŸ‡µ") //â†’ false
```

-   4. ZWJï¼ˆZero Width Joinerï¼‰è¿æ¥çš„å­—ç¬¦ï¼š

```
// Emoji , å‚çœ‹ï¼šhttps://emojipedia.org/emoji/%F0%9F%91%A8%E2%80%8D%F0%9F%91%A9%E2%80%8D%F0%9F%91%A6/
// å‚çœ‹ï¼š https://emojipedia.org/emoji/
/^[ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦]$/u.test("ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦") //â†’ false
```

-   5. æ²¡æœ‰ Unicode æ ‡å¿—çš„ Surrogate pairï¼šï¼š

```
/^[ğŸ‘]$/.test("ğŸ‘") //â†’ false

// Surrogate pair is OK if with u flag.
/^[ğŸ‘]$/u.test("ğŸ‘") //â†’ true
```

#### Rule Details

æ­¤è§„åˆ™æŠ¥å‘Šåœ¨å­—ç¬¦ç±»è¯­æ³•ä¸­åŒ…å«å¤šä¸ªä»£ç ç‚¹å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-misleading-character-class: error */

/^[AÌ]$/u
/^[â‡ï¸]$/u
/^[ğŸ‘¶ğŸ»]$/u
/^[ğŸ‡¯ğŸ‡µ]$/u
/^[ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦]$/u
/^[ğŸ‘]$/
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-misleading-character-class: error */

/^[abc]$/
/^[ğŸ‘]$/u
```

#### When Not To Use It

å¦‚æœä¸æƒ³æ£€æŸ¥å¤šä¸ªä»£ç ç‚¹å­—ç¬¦çš„ RegExp å­—ç¬¦ç±»è¯­æ³•ï¼Œå¯ä»¥å…³é—­æ­¤è§„åˆ™ã€‚

### 22. no-obj-calls (ç¦æ­¢å°†å…¨å±€å¯¹è±¡å½“ä½œå‡½æ•°è¿›è¡Œè°ƒç”¨)

ECMAScript æä¾›äº†å‡ ä¸ªå…¨å±€å¯¹è±¡ï¼Œæ—¨åœ¨ç›´æ¥è°ƒç”¨ã€‚è¿™äº›å¯¹è±¡ç”±äºæ˜¯å¤§å†™çš„ï¼ˆæ¯”å¦‚ Math å’Œ JSONï¼‰çœ‹èµ·æ¥åƒæ˜¯æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å¦‚æœä½ å°è¯•åƒå‡½æ•°ä¸€æ ·æ‰§è¡Œå®ƒä»¬ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚
[ECMAScript 5 è§„èŒƒ](https://es5.github.io/#x15.8)æ˜ç¡®è¡¨ç¤º Math å’Œ JSON æ˜¯ä¸èƒ½è¢«ä½œä¸ºå‡½æ•°è°ƒç”¨çš„;
[ECMAScript 2015 è§„èŒƒ](https://262.ecma-international.org/6.0/#sec-reflect-object) æ˜ç¡®è¡¨æ˜ Reflect ä¸èƒ½è¢«ä½œä¸ºå‡½æ•°è°ƒç”¨;

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢å°† Mathã€JSON å’Œ Reflect å¯¹è±¡å½“ä½œå‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-obj-calls: "error"*/

var math = Math();
var json = JSON();
var reflect = Reflect();
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-obj-calls: "error"*/

function area(r) {
    return Math.PI * r * r;
}
var object = JSON.parse("{}");
var value = Reflect.get({ x: 1, y: 2 }, "x");
```

### 23. no-prototype-builtins (ç¦æ­¢ç›´æ¥ä½¿ç”¨ Object.prototypes çš„å†…ç½®å±æ€§)

åœ¨ ECMAScript 5.1 ä¸­ï¼Œæ–°å¢äº† Object.createï¼Œå®ƒæ”¯æŒä½¿ç”¨æŒ‡å®šçš„ [[Prototype]] åˆ›å»ºå¯¹è±¡ã€‚Object.create(null) æ˜¯ä¸€ç§å¸¸è§çš„æ¨¡å¼ï¼Œç”¨äºåˆ›å»ºå°†ç”¨ä½œæ˜ å°„çš„å¯¹è±¡ã€‚å½“å‡å®šå¯¹è±¡å°†åŒ…å«æ¥è‡ª Object.prototype çš„å±æ€§æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚è¯¥è§„åˆ™é˜²æ­¢ç›´æ¥ä»ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æŸäº› Object.prototype çš„æ–¹æ³•ã€‚

æ­¤å¤–ï¼Œå¯¹è±¡å¯ä»¥å…·æœ‰è‡ªèº«å±æ€§ï¼Œè¿™äº›å±æ€§å¯ä»¥å°† Object.prototype çš„å†…å»ºå±æ€§è¦†ç›–æ‰ï¼Œå¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºæˆ–æ‹’ç»æœåŠ¡å®‰å…¨æ¼æ´ã€‚ä¾‹å¦‚ï¼Œweb æœåŠ¡å™¨è§£ææ¥è‡ªå®¢æˆ·æœºçš„ JSON è¾“å…¥å¹¶ç›´æ¥åœ¨ç»“æœå¯¹è±¡ä¸Šè°ƒç”¨ hasOwnProperty æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºæ¶æ„å®¢æˆ·æœºå¯èƒ½å‘é€ä¸€ä¸ª JSON å€¼ï¼Œå¦‚ {"hasOwnProperty": 1}ï¼Œå¹¶å¯¼è‡´æœåŠ¡å™¨å´©æºƒã€‚

ä¸ºäº†é¿å…è¿™ç§ç»†å¾®çš„ bugï¼Œæœ€å¥½æ€»æ˜¯ä» Object.prototype è°ƒç”¨è¿™äº›å†…ç½®æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œfoo.hasOwnProperty("bar") åº”è¯¥æ›¿æ¢ä¸º Object.prototype.hasOwnProperty.call(foo, "bar")ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ç›´æ¥åœ¨å¯¹è±¡å®ä¾‹ä¸Šè°ƒç”¨ Object.prototype çš„ä¸€äº›æ–¹æ³•ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-prototype-builtins: "error"*/

var hasBarProperty = foo.hasOwnProperty("bar");

var isPrototypeOfBar = foo.isPrototypeOf(bar);

var barIsEnumerable = foo.propertyIsEnumerable("bar");
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-prototype-builtins: "error"*/

var hasBarProperty = Object.prototype.hasOwnProperty.call(foo, "bar");

var isPrototypeOfBar = Object.prototype.isPrototypeOf.call(foo, bar);

var barIsEnumerable = {}.propertyIsEnumerable.call(foo, "bar");
```

#### When Not To Use It

å¦‚æœä½ çš„ä»£ç åªæ¥è§¦å¸¦æœ‰ç¡¬ç¼–ç é”®çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä½ æ°¸è¿œä¸ä¼šä½¿ç”¨è¦†ç›– Object.prototype çš„æ–¹æ³•æˆ–è€…ä¸æ˜¯ç»§æ‰¿è‡ª Object.prototype çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä½ å¯èƒ½æƒ³è¦å…³é—­æ­¤è§„åˆ™ã€‚

### 24. no-regex-spaces (ç¦æ­¢æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­å‡ºç°å¤šä¸ªç©ºæ ¼)

å‘½ä»¤è¡Œä¸­çš„ --fix é€‰é¡¹å¯ä»¥è‡ªåŠ¨ä¿®å¤ä¸€äº›è¯¥è§„åˆ™æŠ¥å‘Šçš„é—®é¢˜ã€‚

æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å¾ˆå¤æ‚å’Œéš¾ä»¥ç†è§£ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ä¿æŒå®ƒä»¬å°½å¯èƒ½çš„ç®€å•ï¼Œä»¥é¿å…å‡ºç°é”™è¯¯ã€‚ä½ åœ¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ—¶æœ€å®¹æ˜“å‡ºé”™çš„æ˜¯ä½¿ç”¨äº†å¤šä¸ªç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š
`var re = /foo bar/;`
åœ¨è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¾ˆéš¾æ–­å®šæƒ³è¦åŒ¹é…å¤šå°‘ä¸ªç©ºæ ¼ã€‚æœ€å¥½æ˜¯åªä½¿ç”¨ä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åæŒ‡å®šéœ€è¦å¤šå°‘ä¸ªï¼Œä¾‹å¦‚ï¼š`var re = /foo {3}bar/;` ã€‚è¿™å°±éå¸¸æ¸…æ¥šåœ°çŸ¥é“éœ€è¦åŒ¹é… 3 ä¸ªç©ºæ ¼ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­å‡ºç°å¤šä¸ªç©ºæ ¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-regex-spaces: "error"*/

var re = /foo   bar/;
var re = new RegExp("foo   bar");
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-regex-spaces: "error"*/

var re = /foo {3}bar/;
var re = new RegExp("foo {3}bar");
```

### 25. no-sparse-arrays (ç¦ç”¨ç¨€ç–æ•°ç»„)

ç¨€ç–æ•°ç»„åŒ…æ‹¬å¾ˆå¤šç©ºä½ç½®ï¼Œç»å¸¸æ˜¯ç”±äºåœ¨æ•°ç»„å­—é¢é‡ä¸­ä½¿ç”¨å¤šä¸ªé€—å·é€ æˆçš„ï¼Œä¾‹å¦‚ï¼š
` var items = [,,];`
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œitem æ•°ç»„çš„ length ä¸º 2ï¼Œå®é™…ä¸Šï¼Œitems[0] æˆ– items[1]å¹¶æ²¡æœ‰å€¼ã€‚æ•°ç»„ä¸­åªæœ‰é€—å·æ˜¯æœ‰æ•ˆçš„ï¼Œå†åŠ ä¸Š length è¢«è®¾ç½®ï¼Œæ²¡æœ‰å®é™…çš„å€¼è¢«è®¾ç½®ï¼Œè¿™äº›æƒ…å†µè®©å¾ˆå¤šå¼€å‘è€…å¯¹ç¨€ç–æ•°ç»„æ„Ÿåˆ°å›°æƒ‘ã€‚è€ƒè™‘ä¸‹é¢çš„æƒ…å†µï¼š

```
var colors = [ "red",, "blue" ];
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œcolors æ•°å€¼çš„ length æ˜¯ 3ã€‚ä½†æ˜¯å¦æ˜¯å¼€å‘è€…æƒ³è®©æ•°ç»„ä¸­é—´å‡ºç°ä¸€ä¸ªç©ºå…ƒç´ ï¼Ÿæˆ–è€…åªæ˜¯ä¸€ä¸ªä¹¦å†™é”™è¯¯ï¼Ÿ

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ä½¿ç”¨ç¨€ç–æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯é€—å·ä¹‹å‰æ²¡æœ‰ä»»ä½•å…ƒç´ çš„æ•°ç»„ã€‚è¯¥è§„åˆ™ä¸é€‚ç”¨äºç´§éšæœ€åä¸€ä¸ªå…ƒç´ çš„æ‹–å°¾é€—å·çš„æƒ…å†µã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-sparse-arrays: "error"*/

var items = [,];
var colors = [ "red",, "blue" ];
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-sparse-arrays: "error"*/

var items = [];
var items = new Array(23);

// trailing comma (after the last element) is not a problem
var colors = [ "red", "blue", ];
```

### 26. no-unexpected-multiline (ç¦æ­¢ä½¿ç”¨ä»¤äººå›°æƒ‘çš„å¤šè¡Œè¡¨è¾¾å¼)

åœ¨ JavaScript ä¸­ï¼Œåˆ†å·é€šå¸¸æ˜¯å¯é€‰çš„ï¼Œå› ä¸ºä¼šè‡ªåŠ¨æ’å…¥åˆ†å·ï¼ˆASI)ã€‚ä½ å¯ä»¥ä½¿ç”¨ semi è§„åˆ™è¦æ±‚æˆ–ç¦æ­¢åˆ†å·ã€‚

æ¢è¡Œä¸ç»“æŸè¯­å¥ï¼Œä¹¦å†™é”™è¯¯é—æ¼äº†åˆ†å·ï¼Œè¿™äº›å¼‚å¸¸ä¼šå¯¼è‡´ä¸¤ä¸ªä¸ç›¸å¹²çš„è¿ç»­çš„è¡Œè¢«è§£é‡Šä¸ºä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç‰¹åˆ«æ˜¯å¯¹äºä¸€ä¸ªæ²¡æœ‰åˆ†å·çš„ä»£ç é£æ ¼ï¼Œè¯»è€…å¯èƒ½ä¼šå¿½ç•¥è¿™äº›é”™è¯¯ã€‚å°½ç®¡è¯­æ³•ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä»£ç æ‰§è¡Œæ—¶å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

ASI çš„è§„åˆ™æ˜¯ç›¸å¯¹ç®€å•çš„ï¼šæ­£å¦‚ Isaac Schlueter æ›¾ç»æè¿°çš„é‚£æ ·ï¼Œä¸€ä¸ª \n å­—ç¬¦æ€»æ˜¯ä¸€ä¸ªè¯­å¥çš„ç»“å°¾(åƒåˆ†å·ä¸€æ ·)ï¼Œé™¤éä¸‹é¢ä¹‹ä¸€ä¸ºçœŸï¼š

-   è¯¥è¯­å¥æœ‰ä¸€ä¸ªæ²¡æœ‰é—­åˆçš„æ‹¬å·ï¼Œæ•°ç»„å­—é¢é‡æˆ–å¯¹è±¡å­—é¢é‡æˆ–å…¶ä»–æŸç§æ–¹å¼ï¼Œä¸æ˜¯æœ‰æ•ˆç»“æŸä¸€ä¸ªè¯­å¥çš„æ–¹å¼ã€‚ï¼ˆæ¯”å¦‚ï¼Œä»¥ . æˆ– , ç»“å°¾ï¼‰
-   è¯¥è¡Œæ˜¯ -- æˆ– ++ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒå°†å‡é‡/å¢é‡çš„ä¸‹ä¸€ä¸ªæ ‡è®°ï¼‰
-   å®ƒæ˜¯ä¸ª for()ã€while()ã€doã€if() æˆ– elseï¼Œå¹¶ä¸”æ²¡æœ‰ {
-   ä¸‹ä¸€è¡Œä»¥ [ã€(ã€+ã€\*ã€/ã€-ã€,ã€. æˆ–ä¸€äº›å…¶å®ƒåœ¨å•ä¸ªè¡¨è¾¾å¼ä¸­ä¸¤ä¸ªæ ‡è®°ä¹‹é—´çš„äºŒå…ƒæ“ä½œç¬¦ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ä½¿ç”¨ä»¤äººå›°æƒ‘çš„å¤šè¡Œè¡¨è¾¾å¼ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unexpected-multiline: "error"*/

var foo = bar
(1 || 2).baz();

var hello = 'world'
[1, 2, 3].forEach(addNumber);

let x = function() {}
`hello`

let x = function() {}
x
`hello`

let x = foo
/regex/g.test(bar)
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unexpected-multiline: "error"*/

var foo = bar;
(1 || 2).baz();

var foo = bar
;(1 || 2).baz()

var hello = 'world';
[1, 2, 3].forEach(addNumber);

var hello = 'world'
void [1, 2, 3].forEach(addNumber);

let x = function() {};
`hello`

let tag = function() {}
tag `hello`
```

#### When Not To Use It

å¦‚æœä½ æœ‰ä¿¡å¿ƒä½ ä¸ä¼šæ„å¤–åœ°å¼•å…¥è¿™æ ·çš„ä»£ç ï¼Œä½ å¯ä»¥å…³é—­æ­¤è§„åˆ™ã€‚

### 27. no-unreachable (ç¦æ­¢åœ¨ returnã€throwã€continue å’Œ break è¯­å¥åå‡ºç°ä¸å¯è¾¾ä»£ç )

å› ä¸º returnã€throwã€continue å’Œ break è¯­å¥æ— æ¡ä»¶åœ°é€€å‡ºä»£ç å—ï¼Œå…¶ä¹‹åçš„ä»»ä½•è¯­å¥éƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚ä¸å¯è¾¾è¯­å¥é€šå¸¸æ˜¯ä¸ªé”™è¯¯ã€‚ä¾‹å¦‚ï¼š

```
function fn() {
    x = 1;
    return x;
    x = 3; // this will never execute, i.e unreachable
}
```

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ returnã€throwã€continue å’Œ break è¯­å¥åå‡ºç°ä¸å¯è¾¾ä»£ç ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unreachable: "error"*/

function foo() {
    return true;
    console.log("done");
}

function bar() {
    throw new Error("Oops!");
    console.log("done");
}

while(value) {
    break;
    console.log("done");
}

throw new Error("Oops!");
console.log("done");

function baz() {
    if (Math.random() < 0.5) {
        return;
    } else {
        throw new Error();
    }
    console.log("done");
}

for (;;) {}
console.log("done");
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**, ä¸‹é¢ä¾‹å­ä¸­æœ‰çš„æ˜¯å› ä¸º JavaScript å‡½æ•°å’Œå˜é‡æå‡ï¼š

```
/*eslint no-unreachable: "error"*/

function foo() {
    return bar();
    function bar() {
        return 1;
    }
}

function bar() {
    return x;
    var x;
}

switch (foo) {
    case 1:
        break;
        var x;
}
```

### 28. no-unsafe-finally (ç¦æ­¢åœ¨ finally è¯­å¥å—ä¸­å‡ºç°æ§åˆ¶æµè¯­å¥)

JavaScript æš‚åœ try å’Œ catch è¯­å¥å—ä¸­çš„æ§åˆ¶æµè¯­å¥ï¼Œç›´åˆ° finally è¯­å¥å—æ‰§è¡Œå®Œæ¯•ã€‚æ‰€ä»¥ï¼Œå½“ returnã€throwã€break å’Œ continue å‡ºç°åœ¨ finally ä¸­æ—¶ï¼Œ try å’Œ catch è¯­å¥å—ä¸­çš„æ§åˆ¶æµè¯­å¥å°†è¢«è¦†ç›–ï¼Œè¿™è¢«è®¤ä¸ºæ˜¯æ„å¤–çš„è¡Œä¸ºã€‚æ¯”å¦‚ï¼š

```
// We expect this function to return 1;
(() => {
    try {
        return 1; // 1 is returned but suspended until finally block ends
    } catch(err) {
        return 2;
    } finally {
        return 3; // 3 is returned before 1, which we did not expect
    }
})();

// > 3
```

```
// We expect this function to throw an error, then return
(() => {
    try {
        throw new Error("Try"); // error is thrown but suspended until finally block ends
    } finally {
        return 3; // 3 is returned before the error is thrown, which we did not expect
    }
})();

// > 3
```

```
// We expect this function to throw Try(...) error from the catch block
(() => {
    try {
        throw new Error("Try")
    } catch(err) {
        throw err; // The error thrown from try block is caught and rethrown
    } finally {
        throw new Error("Finally"); // Finally(...) is thrown, which we did not expect
    }
})();

// > Uncaught Error: Finally(...)
```

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢åœ¨ finally è¯­å¥å—ä¸­å‡ºç° returnã€throwã€break å’Œ continue è¯­å¥ã€‚å®ƒå…è®¸é—´æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚åœ¨ function æˆ– class çš„å®šä¹‰ä¸­ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unsafe-finally: "error"*/
let foo = function() {
    try {
        return 1;
    } catch(err) {
        return 2;
    } finally {
        return 3;
    }
};


/*æˆ–è€…*/
/*eslint no-unsafe-finally: "error"*/
let foo = function() {
    try {
        return 1;
    } catch(err) {
        return 2;
    } finally {
        throw new Error;
    }
};
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unsafe-finally: "error"*/
let foo = function() {
    try {
        return 1;
    } catch(err) {
        return 2;
    } finally {
        console.log("hola!");
    }
};

/*æˆ–è€…*/
/*eslint no-unsafe-finally: "error"*/
let foo = function() {
    try {
        return 1;
    } catch(err) {
        return 2;
    } finally {
        let a = function() {
            return "hola!";
        }
    }
};

/*æˆ–è€…*/
/*eslint no-unsafe-finally: "error"*/
let foo = function(a) {
    try {
        return 1;
    } catch(err) {
        return 2;
    } finally {
        switch(a) {
            case 1: {
                console.log("hola!")
                break;
            }
        }
    }
};
```

### 29. no-unsafe-negation (ç¦æ­¢å¯¹å…³ç³»è¿ç®—ç¬¦çš„å·¦æ“ä½œæ•°ä½¿ç”¨å¦å®šæ“ä½œç¬¦ )

å¼€å‘äººå‘˜å¯èƒ½ä¼šæŠŠ -(a + b) å†™é”™æˆ -a + b æ¥è¡¨ç¤ºä¸€ä¸ªè´Ÿæ•°ï¼Œä¹Ÿå¯èƒ½ä¼šæŠŠ !(key in object) é”™å†™æˆ !key in object æ¥æµ‹è¯•ä¸€ä¸ªé”®æ˜¯å¦åœ¨å¯¹è±¡ä¸­ã€‚ç±»ä¼¼çš„æƒ…å†µä¹Ÿæœ‰ !obj instanceof Ctorã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢å¯¹å…³ç³»è¿ç®—ç¬¦çš„å·¦æ“ä½œæ•°ä½¿ç”¨å¦å®šæ“ä½œç¬¦ã€‚

å…³ç³»è¿ç®—ç¬¦æœ‰ï¼š

-   in è¿ç®—ç¬¦ï¼›
-   instanceof è¿ç®—ç¬¦ï¼›

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unsafe-negation: "error"*/

if (!key in object) {
    // operator precedence makes it equivalent to (!key) in object
    // and type conversion makes it equivalent to (key ? "false" : "true") in object
}

if (!obj instanceof Ctor) {
    // operator precedence makes it equivalent to (!obj) instanceof Ctor
    // and it equivalent to always false since boolean values are not objects.
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unsafe-negation: "error"*/

if (!(key in object)) {
    // key is not in object
}

if (!(obj instanceof Ctor)) {
    // obj is not an instance of Ctor
}

if(("" + !key) in object) {
    // make operator precedence and type conversion explicit
    // in a rare situation when that is the intended meaning
}
```

### 30. require-atomic-updates (ç¦æ­¢ç”±äº await æˆ– yield çš„ä½¿ç”¨è€Œå¯èƒ½å¯¼è‡´å‡ºç°ç«æ€æ¡ä»¶çš„èµ‹å€¼ã€‚)

åœ¨ç¼–å†™å¼‚æ­¥ä»£ç æ—¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿç»†å¾®çš„ç«äº‰æ¡ä»¶é”™è¯¯ã€‚è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š

```
let totalLength = 0;

async function addLengthOfSinglePage(pageNum) {
  totalLength += await getPageLength(pageNum);
}

Promise.all([addLengthOfSinglePage(1), addLengthOfSinglePage(2)]).then(() => {
  console.log('The combined length of both pages is', totalLength);
});
```

è¿™æ®µä»£ç çœ‹èµ·æ¥å°†å¯¹è°ƒç”¨ getPageLength(1) å’Œ getPageLength(2) çš„ç»“æœè¿›è¡Œæ±‚å’Œï¼Œä½†å®é™…ä¸Šï¼ŒtotalLength çš„æœ€ç»ˆå€¼ä»…ä¸ºä¸¤ä¸ªé¡µé¢ä¸­çš„ä¸€ä¸ªé¡µé¢çš„é•¿åº¦ã€‚é”™è¯¯åœ¨è¯­å¥ totalLength += await getPageLength(pageNum); ä¸­ã€‚è¯¥è¯­å¥é¦–å…ˆè¯»å– totalLength çš„åˆå§‹å€¼ï¼Œç„¶åè°ƒç”¨ getPageLength(pageNum) ï¼Œå¹¶ç­‰å¾…è¯¥ Promise å®Œæˆã€‚æœ€åï¼Œå®ƒå°† totalLength çš„å€¼è®¾ç½®ä¸º waiting getPageLength(pageNum) å’Œ totalLength çš„ åˆå§‹ å€¼çš„å’Œã€‚å¦‚æœåœ¨ getPageLength(pageNum) Promise å¤„äº pending çŠ¶æ€æœŸé—´ï¼Œåœ¨å•ç‹¬çš„å‡½æ•°è°ƒç”¨ä¸­æ›´æ–°äº† totalLength å˜é‡ï¼Œé‚£ä¹ˆæ›´æ–°å°†ä¼šä¸¢å¤±ï¼Œå› ä¸ºæ–°å€¼è¢«è¦†ç›–è€Œä¸è¢«è¯»å–ã€‚

è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯**ç¡®ä¿ totalLength åœ¨æ›´æ–°çš„åŒæ—¶è¢«è¯»å–**ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
async function addLengthOfSinglePage(pageNum) {
  const lengthOfThisPage = await getPageLength(pageNum);

  totalLength += lengthOfThisPage;
}
```

å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯**å®Œå…¨é¿å…ä½¿ç”¨å¯å˜å˜é‡å¼•ç”¨**ï¼š

```
Promise.all([getPageLength(1), getPageLength(2)]).then(pageLengths => {
  const totalLength = pageLengths.reduce((accumulator, length) => accumulator + length, 0);

  console.log('The combined length of both pages is', totalLength);
});
```

#### Rule Details

è¿™æ¡è§„åˆ™çš„ç›®çš„æ˜¯æŠ¥å‘Šä¸‹åˆ—æ¡ä»¶ä¸º true æ—¶çš„æƒ…å†µ,å³ï¼šç»™å˜é‡æˆ–å±æ€§èµ‹å€¼çš„ï¼š

-   å˜é‡æˆ–å±æ€§æ ¹æ®å…¶æ—§å€¼é‡æ–°åˆ†é…åˆ°æ–°å€¼ã€‚
-   yield æˆ– await è¡¨è¾¾å¼åœ¨è¯»å–æ—§å€¼ä¹‹åå’Œè®¾ç½®æ–°å€¼ä¹‹å‰ä¸­æ–­èµ‹å€¼ã€‚
-   è§„åˆ™ä¸èƒ½å¾ˆå®¹æ˜“åœ°éªŒè¯èµ‹å€¼æ˜¯å¦å®‰å…¨ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœèµ‹å€¼çš„å˜é‡æ˜¯æœ¬åœ°çš„ï¼Œå¹¶ä¸”åœ¨å‡½æ•°æš‚åœæ—¶ä¸èƒ½ä»å…¶ä»–ä»»ä½•åœ°æ–¹è¯»å–ï¼‰ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/* eslint require-atomic-updates: error */

let result;
async function foo() {
  result += await somethingElse;

  result = result + await somethingElse;

  result = result + doSomething(await somethingElse);
}

function* bar() {
  result += yield;

  result = result + (yield somethingElse);

  result = result + doSomething(yield somethingElse);
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/* eslint require-atomic-updates: error */

let result;
async function foo() {
  result = await somethingElse + result;  //è¿™å’Œä¸‹é¢ä¸€æ¡æ˜¯ç›¸ç­‰çš„ã€‚

  let tmp = await somethingElse;
  result += tmp;

  let localVariable = 0;
  localVariable += await somethingElse;
}

function* bar() {
  result += yield;

  result = (yield somethingElse) + result;

  result = doSomething(yield somethingElse, result);
}
```

### 31. use-isnan (è¦æ±‚è°ƒç”¨ isNaN()æ£€æŸ¥ NaN)

åœ¨ JavaScript ä¸­ï¼ŒNaN æ˜¯ Number ç±»å‹çš„ä¸€ä¸ªç‰¹æ®Šå€¼ã€‚å®ƒè¢«ç”¨æ¥è¡¨ç¤ºéæ•°å€¼ï¼Œè¿™é‡Œçš„æ•°å€¼æ˜¯æŒ‡åœ¨ IEEE æµ®ç‚¹æ•°ç®—æœ¯æ ‡å‡†ä¸­å®šä¹‰çš„åŒç²¾åº¦ 64 ä½æ ¼å¼çš„å€¼ã€‚
å› ä¸ºåœ¨ JavaScript ä¸­ NaN ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒä¸ç­‰äºä»»ä½•å€¼ï¼ŒåŒ…æ‹¬å®ƒæœ¬èº«ï¼Œä¸ NaN è¿›è¡Œæ¯”è¾ƒçš„ç»“æœæ˜¯ä»¤äººå›°æƒ‘çš„ï¼š

```
NaN !== NaN or NaN != NaN evaluate to true
```

å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ Number.isNaN() æˆ– å…¨å±€çš„ isNaN() å‡½æ•°æ¥æµ‹è¯•ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯ NaNã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ä¸ â€˜NaNâ€™ çš„æ¯”è¾ƒã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint use-isnan: "error"*/

if (foo == NaN) {
    // ...
}

if (foo != NaN) {
    // ...
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint use-isnan: "error"*/

if (isNaN(foo)) {
    // ...
}

if (!isNaN(foo)) {
    // ...
}
```

### 32. valid-typeof (å¼ºåˆ¶ typeof è¡¨è¾¾å¼ä¸æœ‰æ•ˆçš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ)

å¯¹äºç»å¤§å¤šæ•°ç”¨ä¾‹è€Œè¨€ï¼Œtypeof æ“ä½œç¬¦çš„ç»“æœæ˜¯ä»¥ä¸‹å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„ä¸€ä¸ªï¼š"undefined"ã€"object"ã€"boolean"ã€"number"ã€"string"ã€"function"ã€"symbol" å’Œ "bigint"ã€‚æŠŠ typeof æ“ä½œç¬¦çš„ç»“æœä¸å…¶å®ƒå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œé€šå¸¸æ˜¯ä¸ªä¹¦å†™é”™è¯¯ã€‚

#### Rule Details

è¯¥è§„åˆ™å¼ºåˆ¶ typeof è¡¨è¾¾å¼ä¸æœ‰æ•ˆçš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒã€‚

è¯¥è§„åˆ™æœ‰ä¸€ä¸ªå¯¹è±¡é€‰é¡¹ï¼š

-   "requireStringLiterals": true è¦æ±‚ typeof è¡¨è¾¾å¼åªä¸å­—ç¬¦ä¸²å­—é¢é‡æˆ–å…¶å®ƒ typeof è¡¨è¾¾å¼ è¿›è¡Œæ¯”è¾ƒï¼Œç¦æ­¢ä¸å…¶å®ƒå€¼è¿›è¡Œæ¯”è¾ƒã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint valid-typeof: "error"*/

typeof foo === "strnig"
typeof foo == "undefimed"
typeof bar != "nunber"
typeof bar !== "fucntion"
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint valid-typeof: "error"*/

typeof foo === "string"
typeof bar == "undefined"
typeof foo === baz
typeof bar === typeof qux
```

> **é€‰é¡¹ { "requireStringLiterals": true } çš„ é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
typeof foo === undefined
typeof bar == Object
typeof baz === "strnig"
typeof qux === "some invalid type"
typeof baz === anotherVariable
typeof foo == 5
```

> **é€‰é¡¹ { "requireStringLiterals": true } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
typeof foo === "undefined"
typeof bar == "object"
typeof baz === "string"
typeof bar === typeof qux
```

## ä»¥ä¸‹æ˜¯ ESLint Rules ä¸­å…³äºæœ€ä½³å®è·µçš„éƒ¨åˆ†ï¼š

### 33. no-case-declarations (ä¸å…è®¸åœ¨ case å­å¥ä¸­ä½¿ç”¨è¯æ³•å£°æ˜)

è¯¥è§„åˆ™ç¦æ­¢è¯æ³•å£°æ˜ (letã€constã€function å’Œ class) å‡ºç°åœ¨ case æˆ– default å­å¥ä¸­ã€‚åŸå› æ˜¯ï¼Œè¯æ³•å£°æ˜åœ¨æ•´ä¸ª switch è¯­å¥å—ä¸­æ˜¯å¯è§çš„ï¼Œä½†æ˜¯å®ƒåªæœ‰åœ¨è¿è¡Œåˆ°å®ƒå®šä¹‰çš„ case è¯­å¥æ—¶ï¼Œæ‰ä¼šè¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚

ä¸ºäº†ä¿è¯è¯æ³•å£°æ˜è¯­å¥åªåœ¨å½“å‰ case è¯­å¥ä¸­æœ‰æ•ˆï¼Œå°†ä½ å­å¥ç”¨ { } åŒ…è£¹åœ¨å—ä¸­ã€‚

#### Rule Details

è¯¥è§„åˆ™æ—¨åœ¨é¿å…è®¿é—®æœªç»åˆå§‹åŒ–çš„è¯æ³•ç»‘å®šä»¥åŠè·¨ case è¯­å¥è®¿é—®è¢«æå‡çš„å‡½æ•°ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-case-declarations: "error"*/
/*eslint-env es6*/

switch (foo) {
    case 1:
        let x = 1;
        break;
    case 2:
        const y = 2;
        break;
    case 3:
        function f() {}
        break;
    default:
        class C {}
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-case-declarations: "error"*/
/*eslint-env es6*/

// Declarations outside switch-statements are valid
const a = 0;

switch (foo) {
    // The following case clauses are wrapped into blocks using brackets
    case 1: {
        let x = 1;
        break;
    }
    case 2: {
        const y = 2;
        break;
    }
    case 3: {
        function f() {}
        break;
    }
    case 4:
        // Declarations using var without brackets are valid due to function-scope hoisting
        var z = 4;
        break;
    default: {
        class C {}
    }
}
```

### 34. no-empty-pattern (ç¦æ­¢ä½¿ç”¨ç©ºè§£æ„æ¨¡å¼)

å½“ä½¿ç”¨è§£æ„èµ‹å€¼æ—¶ï¼Œå¯èƒ½åˆ›å»ºäº†ä¸€ä¸ªä¸èµ·ä½œç”¨çš„æ¨¡å¼ã€‚æŠŠç©ºçš„èŠ±æ‹¬å·æ”¾åœ¨åµŒå…¥çš„å¯¹è±¡çš„è§£æ„æ¨¡å¼å³è¾¹æ—¶ï¼Œå°±ä¼šäº§ç”Ÿè¿™ç§æƒ…å†µï¼Œä¾‹å¦‚ï¼š

```
// doesn't create any variables
var {a: {}} = foo;
```

åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæ²¡æœ‰åˆ›å»ºæ–°çš„å˜é‡ï¼Œå› ä¸º a åªæ˜¯ä¸€ä¸ªè¾…åŠ©ä½ç½®ï¼Œè€Œ {} å°†åŒ…å«åˆ›å»ºçš„å˜é‡ï¼Œä¾‹å¦‚ï¼š

```
// creates variable b
var {a: { b }} = foo;
```

åœ¨å¦ä¸€ç§æƒ…å†µä¸‹ï¼Œä½œè€…æœ¬æ¥æ‰“ç®—ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå´é”™å†™æˆç©ºå¯¹è±¡ï¼Œä¾‹å¦‚ï¼š

```
// creates variable a
var {a = {}} = foo;
```

é»˜è®¤å€¼æ¨¡å¼å’Œè§£æ„èµ‹å€¼æ¨¡å¼ç›´æ¥çš„åŒºåˆ«æ˜¯å¾®å¦™çš„ï¼Œå› ä¸ºç©ºæ¨¡å¼çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ã€‚

#### Rule Details

æ­¤è§„åˆ™ç›®çš„åœ¨äºæ ‡è®°å‡ºåœ¨è§£æ„å¯¹è±¡å’Œæ•°ç»„ä¸­çš„ä»»ä½•çš„ç©ºæ¨¡å¼ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªè¿™æ ·çš„ç©ºæ¨¡å¼ï¼Œè¯¥è§„åˆ™å°±ä¼šæŠ¥å‘Šä¸€ä¸ªé—®é¢˜ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-empty-pattern: "error"*/

var {} = foo;
var [] = foo;
var {a: {}} = foo;
var {a: []} = foo;
function foo({}) {}
function foo([]) {}
function foo({a: {}}) {}
function foo({a: []}) {}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-empty-pattern: "error"*/

var {a = {}} = foo;
var {a = []} = foo;
function foo({a = {}}) {}
function foo({a = []}) {}
```

### 35. no-fallthrough (ç¦æ­¢ case è¯­å¥è½ç©º)

åœ¨ JavaScript ä¸­ï¼Œswitch è¯­å¥æ˜¯ä¸€ç§æ¯”è¾ƒå®¹æ˜“å‡ºé”™çš„ç»“æ„ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šè¿™è¦å½’åŠŸäº case çš„è½ç©ºèƒ½åŠ›ã€‚æ¯”å¦‚ï¼š

```
switch(foo) {
    case 1:
        doSomething();

    case 2:
        doSomethingElse();
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ foo å€¼ä¸º 1ï¼Œä¸¤ä¸ª case è¯­å¥éƒ½ä¼šæ‰§è¡Œã€‚ä½ å¯ä»¥ä½¿ç”¨ break é˜»æ­¢è¿™ç§æƒ…å†µï¼Œä¾‹å¦‚ä»¥ä¸‹ä¾‹å­ï¼š

```
switch(foo) {
    case 1:
        doSomething();
        break;

    case 2:
        doSomethingElse();
}
```

å½“ä½ ä¸æƒ³è¦è½ç©ºæ—¶æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœè½ç©ºæ˜¯æœ‰æ„ä¸ºä¹‹å‘¢ï¼Œæ²¡æœ‰åŠæ³•æ¥è¡¨æ˜è¿™ä¸€ç‚¹ã€‚ä½¿ç”¨åŒ¹é… /falls?\s?through/i çš„æ­£åˆ™è¡¨è¾¾å¼çš„æ³¨é‡Šæ¥è¡¨æ˜è½ç©ºæ˜¯æœ‰æ„ä¸ºä¹‹çš„ï¼Œï¼Œè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ€ä½³å®é™…ã€‚å¦‚ä¸‹:

```
switch(foo) {
    case 1:
        doSomething();
        // falls through

    case 2:
        doSomethingElse();
}

switch(foo) {
    case 1:
        doSomething();
        // fall through

    case 2:
        doSomethingElse();
}

switch(foo) {
    case 1:
        doSomething();
        // fallsthrough

    case 2:
        doSomethingElse();
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸ä¼šå†å¼•èµ·å›°æƒ‘ã€‚å¾ˆæ˜æ˜¾ï¼Œç¬¬ä¸€ä¸ª case çš„æ„æ€æ˜¯è¦è½ç©ºåˆ°ç¬¬äºŒä¸ª caseã€‚

#### Rule Details

è¯¥è§„åˆ™æ—¨åœ¨æ¶ˆé™¤éæ•…æ„ case è½ç©ºè¡Œä¸ºã€‚å› æ­¤ï¼Œå®ƒä¼šæ ‡è®°å¤„æ²¡æœ‰ä½¿ç”¨æ³¨é‡Šæ ‡æ˜çš„è½ç©ºæƒ…å†µã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-fallthrough: "error"*/

switch(foo) {
    case 1:
        doSomething();

    case 2:
        doSomething();
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-fallthrough: "error"*/

switch(foo) {
    case 1:
        doSomething();
        break;

    case 2:
        doSomething();
}

function bar(foo) {
    switch(foo) {
        case 1:
            doSomething();
            return;

        case 2:
            doSomething();
    }
}

switch(foo) {
    case 1:
        doSomething();
        throw new Error("Boo!");

    case 2:
        doSomething();
}

switch(foo) {
    case 1:
    case 2:
        doSomething();
}

switch(foo) {
    case 1:
        doSomething();
        // falls through

    case 2:
        doSomething();
}
```

#### ä¸ªäººå»ºè®®ï¼šå°‘ç”¨è®© switch case è½ç©ºçš„å†™æ³•, å®¹æ˜“è®°ä¸ä½ï¼›

### 36. no-global-assign (ç¦æ­¢å¯¹åŸç”Ÿå¯¹è±¡æˆ–åªè¯»çš„å…¨å±€å¯¹è±¡è¿›è¡Œèµ‹å€¼)

JavaScript ç¯å¢ƒåŒ…å«å¾ˆå¤šå†…ç½®çš„å…¨å±€å˜é‡ï¼Œæ¯”å¦‚æµè§ˆå™¨ç¯å¢ƒçš„ window å’Œ Node.js ä¸­çš„ processã€‚åœ¨å‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œä½ éƒ½ä¸å¸Œæœ›ç»™å…¨å±€å˜é‡èµ‹å€¼ï¼Œå› ä¸ºè¿™æ ·åšå¯èƒ½ä¼šåˆ°å¯¼è‡´æ— æ³•è®¿é—®åˆ°é‡è¦çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½ä¸æƒ³åœ¨æµè§ˆå™¨ä»£ç ä¸­è¿™æ ·åšï¼š`window = {};` ï¼›

è™½ç„¶åƒ window è¿™æ ·çš„ä¾‹å­å¾ˆæ˜æ˜¾ï¼Œä½†æ˜¯ JavaScript ç¯å¢ƒè¿˜æä¾›äº†æ•°ç™¾ä¸ªå†…ç½®å…¨å±€å¯¹è±¡ã€‚å¾ˆéš¾çŸ¥é“ä½ æ˜¯å¦å¯¹ä¸€ä¸ªå»å…¨å±€å˜é‡è¿›è¡Œäº†èµ‹å€¼ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢ä¿®æ”¹åªè¯»çš„å…¨å±€å˜é‡ã€‚

```
{
    "globals": {
        "var2": "readonly"
    }
}
```

> é‡æ¸©ä»¥ä¸‹çŸ¥è¯†ï¼š
> è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å…¨å±€å˜é‡ï¼Œè¯·å°† globals é…ç½®å±æ€§è®¾ç½®ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä»¥ä½ å¸Œæœ›ä½¿ç”¨çš„æ¯ä¸ªå…¨å±€å˜é‡ã€‚**å¯¹äºæ¯ä¸ªå…¨å±€å˜é‡é”®ï¼Œå°†å¯¹åº”çš„å€¼è®¾ç½®ä¸º "writable" ä»¥å…è®¸é‡å†™å˜é‡ï¼Œæˆ– "readonly" ä¸å…è®¸é‡å†™å˜é‡ã€‚**
> **å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸² "off" ç¦ç”¨å…¨å±€å˜é‡ã€‚**
> ä¾‹å¦‚ï¼Œåœ¨å¤§å¤šæ•° ES2015 å…¨å±€å˜é‡å¯ç”¨ä½† Promise ä¸å¯ç”¨çš„ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é…ç½®:

```
{
    "env": {
        "es6": true
    },
    "globals": {
        "Promise": "off",
        "var1": "writable",
        "var2": "readonly"
    }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ var1 å…è®¸è¢«é‡å†™ï¼Œvar2 ä¸å…è®¸è¢«é‡å†™ï¼Œ Promise ä¸å¯ç”¨ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-global-assign: "error"*/

Object = null
undefined = 1


/*eslint no-global-assign: "error"*/
/*eslint-env browser*/

window = {}
length = 1
top = 1


/*eslint no-global-assign: "error"*/
/*globals a:false*/

a = 1
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-global-assign: "error"*/

a = 1
var b = 1
b = 2


/*eslint no-global-assign: "error"*/
/*eslint-env browser*/

onload = function() {}


/*eslint no-global-assign: "error"*/
/*globals a:true*/

a = 1
```

#### Options

è¯¥è§„åˆ™æ¥å—ä¸€ä¸ª exceptions é€‰é¡¹ï¼Œå¯ä»¥ç”¨æ¥æŒ‡å®šå…è®¸è¿›è¡Œèµ‹å€¼çš„å†…ç½®å¯¹è±¡åˆ—è¡¨ï¼Œ
å¯¹è¯¥è§„åˆ™çš„é…ç½®ä¸¾ä¾‹å¦‚ä¸‹ï¼š

```
{
    "rules": {
        "no-global-assign": ["error", {"exceptions": ["Object"]}]
    }
}
```

### 37. no-octal (ç¦ç”¨å…«è¿›åˆ¶å­—é¢é‡)

å…«è¿›åˆ¶è‡ªé¢é‡æ˜¯æŒ‡é‚£äº›ä»¥ 0 å¼€å§‹çš„æ•°å­—ï¼Œæ¯”å¦‚ï¼š

```
var num = 071;      // 57 ï¼Œ57æ˜¯åè¿›åˆ¶æ•°
```

åœ¨ JavaScript ä»£ç ä¸­ï¼Œå…«è¿›åˆ¶çš„å‰å¯¼æ•°å­—é›¶ä½œä¸ºå…¶æ ‡å¿—ä¸€è‡´æ˜¯å¯¼è‡´æ··æ·†å’Œé”™è¯¯çš„æ¥æºï¼ŒECMAScript 5 å·²ç»å¼ƒç”¨äº†å…«è¿›åˆ¶å­—é¢é‡ã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦ç”¨å…«è¿›åˆ¶å­—é¢é‡ã€‚å¦‚æœ ESLint æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è§£æä»£ç ï¼Œè§£æå™¨ï¼ˆè€Œä¸æ˜¯è¯¥è§„åˆ™ï¼‰ä¼šæŠ¥å‘Šé”™è¯¯ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-octal: "error"*/

var num = 071;
var result = 5 + 07;
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-octal: "error"*/

var num  = "071";
```

### 38. no-redeclare (ç¦æ­¢é‡æ–°å£°æ˜å˜é‡)

åœ¨ JavaScript ä¸­ï¼Œä½¿ç”¨ var å¯ä»¥å¯¹åŒä¸€ä¸ªå˜é‡å†æ¬¡å£°æ˜ã€‚è¿™ä¼šä½¿å˜é‡å®é™…å£°æ˜å’Œå®šä¹‰çš„ä½ç½®æ··ä¹±ä¸å ªã€‚

#### Rule Details

æ­¤è§„åˆ™ç›®æ—¨åœ¨æ¶ˆé™¤åŒä¸€ä½œç”¨åŸŸä¸­å¤šæ¬¡å£°æ˜åŒä¸€å˜é‡ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-redeclare: "error"*/

var a = 3;
var a = 10;
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-redeclare: "error"*/

var a = 3;
// ...
a = 10;
```

#### Options

è¯¥è§„åˆ™æœ‰ä¸€ä¸ªé€‰é¡¹å‚æ•°ï¼Œæ˜¯ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ä¸ªå¸ƒå°”å±æ€§ä¸º "builtinGlobals"ã€‚é»˜è®¤ä¸º trueã€‚
å¦‚æœè®¾ç½®ä¸º trueï¼Œè¯¥è§„åˆ™ä¹Ÿä¼šæ£€æŸ¥å…¨å±€å†…å»ºå¯¹è±¡ï¼Œæ¯”å¦‚ Objectã€Arrayã€Numberâ€¦
"builtinGlobals" é€‰é¡¹å°†ä¼šåœ¨å…¨å±€èŒƒå›´æ£€æŸ¥è¢«é‡æ–°å£°æ˜çš„å†…ç½®å…¨å±€å˜é‡ã€‚

> **é€‰é¡¹ { "builtinGlobals": true } çš„é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-redeclare: ["error", { "builtinGlobals": true }]*/

var Object = 0;
```

> **åœ¨ browser ç¯å¢ƒä¸‹ï¼Œé€‰é¡¹ {"builtinGlobals": true} çš„é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-redeclare: ["error", { "builtinGlobals": true }]*/
/*eslint-env browser*/

var top = 0;
```

browser ç¯å¢ƒæœ‰å¾ˆå¤šå†…å»ºçš„å…¨å±€å˜é‡ï¼ˆä¾‹å¦‚ï¼Œtopï¼‰ã€‚ä¸€äº›å†…å»ºçš„å…¨å±€å˜é‡ä¸èƒ½è¢«é‡æ–°å£°æ˜ã€‚
æ³¨æ„ï¼Œå½“ä½¿ç”¨ node æˆ– commonjs ç¯å¢ƒ (æˆ– ecmaFeatures.globalReturnï¼Œå¦‚æœä½¿ç”¨é»˜è®¤è§£æå™¨)æ—¶ï¼Œåˆ™ç¨‹åºçš„æœ€å¤§ä½œç”¨åŸŸä¸æ˜¯å®é™…çš„å…¨å±€ä½œç”¨åŸŸï¼Œè€Œæ˜¯ä¸€ä¸ªæ¨¡å—ä½œç”¨åŸŸã€‚å½“å‡ºç°è¿™ç§æƒ…å†µæ—¶ï¼Œå£°æ˜ä¸€ä¸ªä»¥å†…ç½®çš„å…¨å±€å˜é‡å‘½ä»¤çš„å˜é‡ï¼Œä¸ç®—æ˜¯é‡å£°æ˜ï¼Œåªæ˜¯é®è”½äº†å…¨å±€å˜é‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨ no-shadow è§„åˆ™çš„ "builtinGlobals" é€‰é¡¹ã€‚

### 39. no-self-assign (ç¦æ­¢è‡ªèº«èµ‹å€¼)

è‡ªèº«èµ‹å€¼ä¸èµ·ä»»ä½•ä½œç”¨ï¼Œå¯èƒ½æ˜¯ç”±äºä¸å®Œæ•´çš„é‡æ„é€ æˆçš„é”™è¯¯ã€‚ä¹Ÿè¡¨æ˜ä½ çš„å·¥ä½œè¿˜æ²¡åšå®Œã€‚

```
foo = foo;
[bar, baz] = [bar, qiz];
```

#### Rule Details

è¯¥è§„åˆ™æ—¨åœ¨æ¶ˆé™¤è‡ªèº«èµ‹å€¼çš„æƒ…å†µã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-self-assign: "error"*/

foo = foo;

[a, b] = [a, b];

[a, ...b] = [x, ...b];

({a, b} = {a, x});
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-self-assign: "error"*/

foo = bar;
[a, b] = [b, a];

// This pattern is warned by the `no-use-before-define` rule.
let foo = foo;

// The default values have an effect.
[foo = 1] = [foo];

// non-self-assignments with properties.
obj.a = obj.b;
obj.a.b = obj.c.b;
obj.a.b = obj.a.c;
obj[a] = obj["a"];

// This ignores if there is a function call.
obj.a().b = obj.a().b;
a().b = a().b;

// Known limitation: this does not support computed properties except single literal or single identifier.
obj[a + b] = obj[a + b];
obj["a" + "b"] = obj["a" + "b"];
```

#### Options

è¯¥è§„åˆ™ä¹Ÿæœ‰å¯ä»¥æ£€æŸ¥å±æ€§çš„é€‰é¡¹: props - å¦‚æœä¸º trueï¼Œno-self-assign è§„åˆ™å°†å¯¹å±æ€§çš„è‡ªæˆ‘èµ‹å€¼å‘å‡ºè­¦å‘Šã€‚é»˜è®¤ä¸º true.

```
{
    "no-self-assign": ["error", {"props": true}]
}
```

> **é€‰é¡¹ { "props": false } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-self-assign: ["error", {"props": false}]*/

// self-assignments with properties.
obj.a = obj.a;
obj.a.b = obj.a.b;
obj["a"] = obj["a"];
obj[a] = obj[a];
```

### 40. no-unused-labels (ç¦ç”¨æœªä½¿ç”¨è¿‡çš„æ ‡ç­¾)

å‘½ä»¤è¡Œä¸­çš„ --fix é€‰é¡¹å¯ä»¥è‡ªåŠ¨ä¿®å¤ä¸€äº›è¯¥è§„åˆ™æŠ¥å‘Šçš„é—®é¢˜ã€‚

å…³äº label çš„ç”¨æ³•ï¼Œå‚è€ƒï¼š https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/label

åªå£°æ˜å´æ²¡æœ‰ä½¿ç”¨çš„ label å¯èƒ½æ˜¯ç”±äºä¸å®Œå…¨çš„é‡æ„é€ æˆçš„é”™è¯¯ã€‚

```
OUTER_LOOP:
for (const student of students) {
    if (checkScores(student.scores)) {
        continue;
    }
    doSomething(student);
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¯èƒ½æ˜¯å¿˜è®°äº†ç§»é™¤ OUTER_LOOP: ã€‚è¿™æ ·çš„ label ä¸ä»…å æ®ä»£ç ç©ºé—´ï¼Œè€Œä¸”ä¼šä½¿è¯»è€…æ„Ÿåˆ°è¿·æƒ‘ã€‚

#### Rule Details

è¯¥è§„åˆ™æ—¨åœ¨æ¶ˆé™¤æœªä½¿ç”¨è¿‡çš„ labelã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unused-labels: "error"*/

A: var foo = 0;

B: {
    foo();
}

C:
for (let i = 0; i < 10; ++i) {
    foo();
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-unused-labels: "error"*/

A: {
    if (foo()) {
        break A;
    }
    bar();
}

B:
for (let i = 0; i < 10; ++i) {
    if (foo()) {
        break B;
    }
    bar();
}
```

### 41. no-useless-catch (ç¦æ­¢ä¸å¿…è¦çš„ catch å­å¥)

åªé‡æ–°æŠ›å‡ºåŸå§‹é”™è¯¯çš„ catch å­å¥æ˜¯å†—ä½™çš„ï¼Œå¯¹ç¨‹åºçš„è¿è¡Œæ—¶è¡Œä¸ºæ²¡æœ‰å½±å“ã€‚è¿™äº›å†—ä½™å­å¥å¯èƒ½ä¼šå¯¼è‡´æ··ä¹±å’Œä»£ç è†¨èƒ€ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦ä½¿ç”¨è¿™äº›ä¸å¿…è¦çš„ catch å­å¥ã€‚

#### Rule Details

æ­¤è§„åˆ™æŠ¥å‘Šåª throw å·²æ•è·è¿‡çš„é”™è¯¯çš„ catch å­å¥ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-useless-catch: "error"*/

try {
  doSomethingThatMightThrow();
} catch (e) {
  throw e;
}

try {
  doSomethingThatMightThrow();
} catch (e) {
  throw e;
} finally {
  cleanUp();
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-useless-catch: "error"*/

try {
  doSomethingThatMightThrow();
} catch (e) {
  doSomethingBeforeRethrow();
  throw e;
}

try {
  doSomethingThatMightThrow();
} catch (e) {
  handleError(e);
}
```

### 42. no-useless-catch (ç¦æ­¢ä¸å¿…è¦çš„ catch å­å¥)

åªé‡æ–°æŠ›å‡ºåŸå§‹é”™è¯¯çš„ catch å­å¥æ˜¯å†—ä½™çš„ï¼Œå¯¹ç¨‹åºçš„è¿è¡Œæ—¶è¡Œä¸ºæ²¡æœ‰å½±å“ã€‚è¿™äº›å†—ä½™å­å¥å¯èƒ½ä¼šå¯¼è‡´æ··ä¹±å’Œä»£ç è†¨èƒ€ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦ä½¿ç”¨è¿™äº›ä¸å¿…è¦çš„ catch å­å¥ã€‚

#### Rule Details

æ­¤è§„åˆ™æŠ¥å‘Šåª throw å·²æ•è·è¿‡çš„é”™è¯¯çš„ catch å­å¥ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-useless-catch: "error"*/

try {
  doSomethingThatMightThrow();
} catch (e) {
  throw e;
}

try {
  doSomethingThatMightThrow();
} catch (e) {
  throw e;
} finally {
  cleanUp();
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-useless-catch: "error"*/

try {
  doSomethingThatMightThrow();
} catch (e) {
  doSomethingBeforeRethrow();
  throw e;
}

try {
  doSomethingThatMightThrow();
} catch (e) {
  handleError(e);
}
```

### 43. no-useless-escape (ç¦ç”¨ä¸å¿…è¦çš„è½¬ä¹‰)

å¯¹å­—ç¬¦ä¸²ã€æ¨¡æ¿å­—é¢é‡å’Œæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„å¸¸è§„å­—ç¬¦è¿›è¡Œçš„è½¬ä¹‰ï¼Œä¸ä¼šå¯¹ç»“æœäº§ç”Ÿä»»ä½•å½±å“ï¼Œä¾‹å¦‚ï¼š

```
let foo = "hol\a"; // > foo = "hola"
let bar = `${foo}\!`; // > bar = "hola!"
let baz = /\:/ // same functionality with /:/
```

#### Rule Details

è¯¥è§„åˆ™æ ‡è®°åœ¨ä¸æ”¹å˜ä»£ç è¡Œä¸ºçš„æƒ…å†µä¸‹å¯ä»¥å®‰å…¨ç§»é™¤çš„è½¬ä¹‰ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-useless-escape: "error"*/

"\'";
'\"';
"\#";
"\e";
`\"`;
`\"${foo}\"`;
`\#{foo}`;
/\!/;
/\@/;

```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-useless-escape: "error"*/

"\"";
'\'';
"\x12";
"\u00a9";
"\371";
"xs\u2111";
`\``;
`\${${foo}}`;
`$\{${foo}}`;
/\\/g;
/\t/g;
/\w\$\*\^\./;
```

### 44. no-with (ç¦ç”¨ with è¯­å¥)

with è¯­å¥æ˜¯æ½œåœ¨çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒä¼šåœ¨å½“å‰çš„åŸŸä¸­å¢åŠ å¯¹è±¡æˆå‘˜ï¼Œä½¿å¾—åŒºåˆ†å®é™…å—ä¸­çš„å˜é‡æŒ‡çš„æ˜¯ä»€ä¹ˆå˜çš„ä¸å¯èƒ½ã€‚

#### Rule Details

æ­¤è§„åˆ™ç›®çš„åœ¨äºæ’é™¤ with è¯­å¥ã€‚
å¦‚æœ ESLint åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è§£æä»£ç ï¼Œè§£æå™¨ï¼ˆä¸æ˜¯è¯¥è§„åˆ™ï¼‰å°†æŠ¥å‘Šè¿™æ ·çš„é”™è¯¯ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-with: "error"*/

with (point) {
    r = Math.sqrt(x * x + y * y); // is r a member of point?
}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-with: "error"*/
/*eslint-env es6*/

const r = ({x, y}) => Math.sqrt(x * x + y * y);
```

### 45. no-delete-var (ç¦æ­¢åˆ é™¤å˜é‡)

delete çš„ç›®çš„æ˜¯åˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚ä½¿ç”¨ delete æ“ä½œåˆ é™¤ä¸€ä¸ªå˜é‡å¯èƒ½ä¼šå¯¼è‡´æ„å¤–æƒ…å†µå‘ç”Ÿã€‚

#### Rule Details

è¯¥è§„åˆ™ç¦æ­¢å¯¹å˜é‡ä½¿ç”¨ delete æ“ä½œç¬¦ã€‚
å¦‚æœ ESLint æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è§£æä»£ç ï¼Œè§£æå™¨ï¼ˆè€Œä¸æ˜¯è¯¥è§„åˆ™ï¼‰ä¼šæŠ¥å‘Šé”™è¯¯ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-delete-var: "error"*/

var x;
delete x;
```

### 46. no-shadow-restricted-names (å…³é”®å­—ä¸èƒ½è¢«é®è”½)

ES5 Â§15.1.1 ä¸­å…¨å±€å¯¹è±¡çš„å±æ€§å€¼ (NaNã€Infinityã€undefined)å’Œä¸¥æ ¼æ¨¡å¼ä¸‹è¢«é™å®šçš„æ ‡è¯†ç¬¦ evalã€arguments åœ¨ JavaScript ä¸­è¢«è®¤ä¸ºæ˜¯å—é™åˆ¶çš„åç§°ã€‚å°†å®ƒä»¬å®šä¹‰ä¸ºå…¶ä»–å«ä¹‰å¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œå¹¶ä½¿é˜…è¯»ä»£ç çš„å…¶ä»–äººæ„Ÿåˆ°å›°æƒ‘ã€‚æ¯”å¦‚ï¼š

```
var undefined = "foo";
```

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-shadow-restricted-names: "error"*/

function NaN(){}

!function(Infinity){};

var undefined = 5;

try {} catch(eval){}
```

> **æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-shadow-restricted-names: "error"*/

var Object;

function f(a, b){}

// Exception: `undefined` may be shadowed if the variable is never assigned a value.
var undefined;
```

### 47. no-undef (ç¦ç”¨æœªå£°æ˜çš„å˜é‡)

æ­¤è§„åˆ™å¯å¸®åŠ©ä½ å®šä½ç”±å˜é‡æ¼å†™ã€å‚æ•°åæ¼å†™å’Œæ„å¤–çš„éšå¼å…¨å±€å˜é‡å£°æ˜æ‰€å¯¼è‡´çš„æ½œåœ¨å¼•ç”¨é”™è¯¯ï¼ˆæ¯”å¦‚ï¼Œåœ¨ for å¾ªç¯è¯­å¥ä¸­åˆå§‹åŒ–å˜é‡å¿˜å†™ var å…³é”®å­—ï¼‰

#### Rule Details

å¯¹ä»»ä½•æœªå£°æ˜çš„å˜é‡çš„å¼•ç”¨éƒ½ä¼šå¼•èµ·ä¸€ä¸ªè­¦å‘Šï¼Œé™¤éæ˜¾å¼åœ°åœ¨ /_global ..._/ æ³¨é‡Šä¸­æŒ‡å®šï¼Œæˆ–åœ¨ globals key in the configuration file ä¸­æŒ‡å®šã€‚å¦ä¸€ä¸ªå¸¸è§çš„ç”¨ä¾‹æ˜¯ï¼Œä½ æœ‰æ„ä½¿ç”¨å®šä¹‰åœ¨å…¶ä»–åœ°æ–¹çš„å…¨å±€å˜é‡(ä¾‹å¦‚æ¥è‡ª HTML çš„è„šæœ¬)ã€‚

> **é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-undef: "error"*/

var a = someFunction();
b = 10;
```

> **æœ‰ global å£°æ˜æ—¶ï¼Œè¯¥è§„åˆ™çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*global someFunction b:true*/
/*eslint no-undef: "error"*/

var a = someFunction();
b = 10;

// åœ¨/*global */ ä¸­çš„ b:true è¡¨æ˜å¯¹ b ç»§ç»­èµ‹å€¼æ˜¯æ­£ç¡®çš„ã€‚
```

> **æœ‰ global å£°æ˜æ—¶ï¼Œè¯¥è§„åˆ™çš„ é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*global b*/
/*eslint no-undef: "error"*/

b = 10;

//  **é»˜è®¤æƒ…å†µä¸‹ï¼Œ/*global */ ä¸­å£°æ˜çš„å˜é‡æ˜¯åªè¯»çš„ï¼Œå› æ­¤å¯¹å…¶è¿›è¡Œèµ‹å€¼æ˜¯é”™è¯¯çš„ã€‚**
```

#### Options

è¯¥è§„åˆ™ä¹Ÿæœ‰ typeof é€‰é¡¹ï¼Œé»˜è®¤å€¼ä¸º falseã€‚å½“å€¼ä¸º trueï¼Œå°†å¯¹ typeof æ£€æŸ¥ä¸­ç”¨åˆ°çš„å˜é‡å‘å‡ºè­¦å‘Šã€‚

> **é»˜è®¤é€‰é¡¹ { "typeof": false } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**:

```
/*eslint no-undef: "error"*/

if (typeof UndefinedIdentifier === "undefined") {
    // do something ...
}

// å¦‚æœæƒ³é˜»æ­¢åœ¨ typeof è¿ç®—ä¸­æœ‰æœªç”³æ˜çš„å˜é‡å¯¼è‡´çš„è­¦å‘Šï¼Œå¯ä»¥ç”¨æ­¤é¡¹ã€‚
```

> **é€‰é¡¹ { "typeof": true } çš„ é”™è¯¯ ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-undef: ["error", { "typeof": true }] */

if(typeof a === "string"){}
```

> **æœ‰ global å£°æ˜æ—¶ï¼Œé€‰é¡¹ { "typeof": true } çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*global a*/
/*eslint no-undef: ["error", { "typeof": true }] */

if(typeof a === "string"){}
```

ESlint æä¾›äº†é¢„å®šä¹‰æµè¡Œç±»åº“å’Œè¿è¡Œæ—¶ç¯å¢ƒæš´éœ²çš„å…¨å±€å˜é‡çš„å¿«æ·æ–¹å¼ã€‚è¯¥è§„åˆ™æ”¯æŒè¿™äº›ç¯å¢ƒï¼Œå¦‚ æŒ‡å®š Environments ä¸­åˆ—å‡ºçš„ã€‚ä½¿ç”¨å¦‚ä¸‹ï¼š

> **browser ç¯å¢ƒä¸‹çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-undef: "error"*/
/*eslint-env browser*/

setTimeout(function() {
    alert("Hello");
});
```

> **node ç¯å¢ƒä¸‹çš„ æ­£ç¡® ä»£ç ç¤ºä¾‹**ï¼š

```
/*eslint no-undef: "error"*/
/*eslint-env node*/

var fs = require("fs");
module.exports = function() {
    console.log(fs);
};
```

// ç¼–è¾‘å®Œæˆï¼Œæ—¥æœŸï¼š 2021/7/7
